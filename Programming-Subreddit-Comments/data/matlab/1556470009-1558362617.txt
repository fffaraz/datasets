Features - Yes. Quality - not. Speed - absolutely not. Matlab is faster by far - when you vectorize your code. It's linear algebra is top of the line, and numerics is much more advanced.
I sadly had to switch to Python, but I love convenience and quality of Matlab. Feature-wise, Python has newer hotter current stuff. But Matlab ends up implementing them with higher quality and usability-wise (as well as backwards-compatibility-wise) it's by far superior.
Actually, if that works you can go one step further and make it an executable bash-script, then you can click that and it will open MatLab.
Agreed.
The last number of linspace is the number of points in the vector, not the distance between points.
NumPy provides vectorization and top of the line linear algebra. Plus there are numerous ways to speed up your Python code to make it comparable to C.
Iâ€™m a 39yo masters degree engineer with fifteen years of experience in the aerospace industry. Each year we slowly move closer and closer to Python over MATLAB because it runs faster and does distributed processing more cheaply. Even though I am only experienced in MATLAB, if I was going to recommend one language for a new engineer, I would suggest Python. A BS+0yr junior engineer skilled in Python would be very valuable on my team.
Also, there an effective debugging tool in python? The ability to pause and easily examine your Matlab workspace would be something Iâ€™d hate to give up.
MATLAB as released an app in appstore on Ubuntu which will create icon for the installed package
Yes, yes. But numpy uses lapack, but Matlab uses Intel MKL (for Intel), which is faster.
Python can use MKL as well, it's not difficult to switch.
Yeah, that's more IDE dependent. Spyder has a variable explorer, and pdb is a thing.
And If you're benchmarking prototyping time, Matlab is way faster. The documentation is way better.
If you don't need Simulink, open source Octave covers most of the bases.
By default numpy uses openblas, which is about the same speed as MKL. But numpy can use MKL, anaconda had numpy using MKL.
Python is now superior to MATLAB in almost all respects. Python is much more popular, and numpy has a large enough user base that you will find answers to your questions on stackoverflow - the MATLAB forums are not quite so special now. Python is free, and open-source! Both of these are huge advantages which should not be brushed over. Vectorized numpy code is just as good as vectorized MATLAB code, and if you need even greater speed then you should be using a lower level language instead. Python has recently got much better support for parallel numerical computing - MATLAB is currently trying to catch up with what numpy+dask can do. Python has libraries for higher-level abstractions of data (e.g. pandas, xarray), which MATLAB will never match because it is not a language condusive to creating complex classes. MATLAB's IDE is very powerful, but python has now caught up. Jupyterlab (previously spyder) is a powerful tool, and is rapidly improving as there are so many people in the open-source community who are contributing to it. 2D graph plotting in python is very well covered by matplotlib. It works slightly differently than in MATLAB but once you start using it in the object-oriented manner it is every bit as good. Python is a real language, with a massive user base, and is used in production code in all sorts of disciplines. This means as soon as you want to extend your numerical script to deal with some filesystem, host it online, automate it's running somehow, then python will not only be fully capable of this, it will actually be the ideal language to use. One thing MATLAB is still better at is quick 3D visualisation, but there are python libraries targeting this (such as yt). In 2019 you shouldn't use MATLAB unless you are sure you need one of the few things it can do better than python, or unless you are inheriting lots of legacy MATLAB code.
Python is now superior to MATLAB in almost all respects. Python is much more popular, and numpy has a large enough user base that you will find answers to your questions on stackoverflow - the MATLAB forums are not quite so special now. Python is free, and open-source! Both of these are huge advantages which should not be brushed over. Vectorized numpy code is just as good as vectorized MATLAB code, and if you need even greater speed then you should be using a lower level language instead. Python has recently got much better support for parallel numerical computing - MATLAB is currently trying to catch up with what numpy+dask can do. Python has libraries for higher-level abstractions of data (e.g. pandas, xarray), which MATLAB will never match because it is not a language condusive to creating complex classes. MATLAB's IDE is very powerful, but python has now caught up. Jupyterlab (previously spyder) is a powerful tool, and is rapidly improving as there are so many people in the open-source community who are contributing to it. 2D graph plotting in python is very well covered by matplotlib. It works slightly differently than in MATLAB but once you start using it in the object-oriented manner it is every bit as good. Python is a real language, with a massive user base, and is used in production code in all sorts of disciplines. This means as soon as you want to extend your numerical script to deal with some filesystem, host it online, automate it's running somehow, then python will not only be fully capable of this, it will actually be the ideal language to use. One thing MATLAB is still better at is quick 3D visualisation, but there are python libraries targeting this (such as yt). In 2019 you shouldn't use MATLAB unless you are sure you need one of the few things it can do better than python, or unless you are inheriting lots of legacy MATLAB code.
Not as effective as the built in debugger. This is the kind of stuff people say about Matlab before using it professionally.
The difference in how fast the code is to write is almost negligible if you have a good editor/IDE setup for Python. I would only recommend MATLAB over Python in the case that youâ€™re using Simulink or other toolboxes not available elsewhere. There are ways to get good speed/performance out of either language, but I think if thatâ€™s your primary concern youâ€™d probably want to use C/C++ under the hood.
Matlab documentation is amazing, a lot of effort and thought is clearly put into it.
Yea I wouldnâ€™t want to type the variables out. I usually can save the whole workspace with figures open though. I am on vacation and donâ€™t have my computer but Iâ€™m pretty sure I just write, save(â€˜filenameâ€™) and it saves the whole workspace. Typically you would use savefig for figures. Make sure your not creating the figure right before saving the workspace to negate somehow having matlab call the figure instead of the workspace?
For engineering applications Matlab and labview are still pretty common. For data science Python. In my experience (10+ years with both) it is a lot easier to go from python to matlab than the other way. Matlab encourages a lot of bad habits that are hard for people to unlearn. E.g., namespaces are just a polluted mess.
I think many of the replies to your question are being a bit dramatic. Everyone has a favorite language so you should take some of these comments with a grain of salt. Personally, I know MATLAB and I know Python and I use whichever is appropriate for whatever task I need done. Any reports about one being significantly faster than the other are also suspicious. While it may be true that some features are faster in MATLAB vs Python or vice versa, the reality is that 99.99% of all performance gains will come from writing better code in whatever language you decide to use. The percentage of people who write code well enough for the language to become the bottle neck is far smaller than people seem to want to admit. Pick whichever you prefer and get good at it. Focus on writing better implementations in whatever language you are using. This will make a much bigger difference.
Matlab and Python are both very good and versatile. You honestly can't go wrong either way but don't pigeonhole yourself, there's no need to pick one over the other. Use both, I've ported a lot of code from one to the other, a lot of it will almost copy and paste and go with only trivial modifications. You might find Python more convenient for doing IO.
I disagree. I wrote programs in 2014 that by 2016 were not run able because of updated syntaxes in Matlab. I had to re write. Thatâ€™s BS.
I do have figures open at save time. Now that you mention it, there is something weird because when I save I definitely get all my variables back, but not all the figures. When I load the mat later, a single figure appears. There must be something special about that particular one.
If you get it work please post working code!!!!
The "working code" is to change the function name to something else lmao, but sure I'll do it
Then you have been lucky. Every lab I have been in has to keep old versions around because of backwards-incompatible changes, often undocumented. There is simply no way to tell what will break in a given release, so most groups I know just stick with one version for 8-10 years. For example MATLAB had been through 3 completely different, incompatible GUI frameworks in 5 years. The first two are similar enough that simple things will at least with in both, but more advanced stuff can break. The latest one, however, works completely differently and is not at all compatible. By comparison Qt5 has been guaranteed backwards-compatibility since 2012.
Well in that case, you should just go back to [C++](https://trends.google.com/trends/explore?q=matlab,python,c%2B%2B&amp;hl=en-US&amp;tz=-120).
It might be that you defined a handle to that fig, or saved the fig into a structure somewhere. Maybe Matlab is smart(?) enough to drag the actual figure along with the structs/handles...Save('file') will only take things that are in the workspace, so your one figure must be somehow in there :)
I'm not positive on this, but you may be able to take the Laplace of your numerator and denominator and use rlocus with them in the S domain.
Matlab is better at doing matlab type things matricies, math modeling, etc. Also, it's hard to beat matlab for control systems. The second you start wanting to run services, write the backend for a website, get onto the cloud w/o paying license fees, you'll be making the jump to python.
The free version of Pycharm is a better IDE than Matlab in my opinion
I think there will always be open source alternatives to a list software Windows - Ubuntu Final Cut - Kdenlive Photoshop - Gimp Matlab - Python Simulink - Xcos Whether or not the open source software is better than the non free version I feel will always be up for debate. This is a much larger issue than just math libraries though. There are pros and cons to python and Matlab and which you prefer will always depend on what you're trying to do. Want to code at NASA? Matlab. Want to code on a Circuit Playground by Adafruit? Python. Just depends on what you wanna do.
Installing Anaconda seemed to break my team's Abaqus (FEM program) installs for some reason. We had to have two dozen people uninstall both programs and reinstall Abaqus.
The problem is the function is already in the frequency domain.
If you have an exponential it means that there is a time delay function multiplied into it. I'm not at a computer but in theory root locus should not be affected by time delays. Rlocus simply plots the movement of the poles and zeros in the frequency domain. It shouldnt matter when they start in the time domain.
I'm pretty sure this is wrong. https://ieeexplore.ieee.org/document/1102828
Good thought. Maybe that's the only figure I'm carrying a handle for explicitly. I'll check that.
Can you post the code? There shouldn't be any issue with this.
You need to install the toolbox from the Matlab site.
get good
Generically, you are thinking of root finding algorithms. That should be enough for you to start searching on your own.
If you don't mind me asking, what does this equation describe? And to the best of my knowledge, Matalb doesn't have built-in options for a numerical solution of non-linear equations, especially if they are non-polynomials. However, you can look for a [Newton-Raphson method] (https://en.wikipedia.org/wiki/Newton%27s_method). It is quite easily implemented.
I actually heavily prefer Julia to Python for use regarding math, although Python has a large community and a lot of support being a very popular language, and with Julia still extremely new in comparison. MATLAB is still relevant to the engineering industry however - the industry likes comprehensive, bundled programs like MATLAB and it is still quite performative in many areas. I personally am not a huge MATLAB fan and don't really need to use it as I don't work in engineering, but I still think it shouldn't be overlooked when learning/teaching. Apparently the University where I did my undergrad is switching out MATLAB to Python in many courses and I feel like that could be quite detrimental to people studying engineering, as many will likely encounter it during their career.
The equation describes the shape of a fluid's surface when deformed by an object that sits atop the surface of the fluid without breaking the surface tension (like a bug standing on water). That definitely looks like the way I'll have to go with this. Thanks!
Looks like that's where this is heading. Thank you!
Python and its ecosystem have the advantage of being open source. It means you have more control and access over it. MATLAB on the other end does not provide you that, but it provides quality and support that python cannot guarantee. In the end, it is a matter of who is responsible for what. If you are willing to assume/check things such as security and quality yourself (or probably you do not even care), then python is great choice. Otherwise better let someone else proving those stuff, so that you can focus on your core application. It seems that the car/aerospacial industry usually tend to opt for the later option.
I might be confused about your question because the answer seems so trivial but... If everything is constant then make an array of h that spans the parameter regime then calculate x for each h (which you can just do using a single array operation) then plot h against x.
Actually, there is: [fzero] (https://au.mathworks.com/help/matlab/ref/fzero.html)
Matlab has very robust nonlinear solvers, especially for scalar equations. See fzero and fminsearch.
The first thing you want to do is rephrase your problem into solving the zeros for a function, that is, solving F(x) = 0, where F is some nonlinear function of x. Matlab has a built in function that solves nonlinear equations in this form given an initial guess, called fsolve. If you want to know a little bit about how they work, you're going to want to read up on root-finding techniques. The simplest algorithm is the bisection method, then maybe the Newton-Raphson method, then maybe the Levenberg-Marquardt method. Problems arise when you may have multiple solutions. If just one will do, then you're probably fine, but if you want *all* the solutions, then that may take some work if you don't know how many solutions you could have. If you only want to solve your equation as a function of h, if all other symbols are constant, then that's fine also, just plot F(x) for a given choice of parameters and see where you expect to find solutions. However if you have multiple variables, this becomes more complicated.
&gt;And to the best of my knowledge, Matalb doesn't have built-in options for a numerical solution of non-linear equations, You cannot be serious.
You're looking for `fzero()`.
Thank you!
Oh okay, sorry. I didnt remember correctly
there might not be a difference then, i just kinda group csv with excel in my mind so you're right.
I found octave and scilab to both be chores to work with. They were like Matlab, but not quite. At that point python could be executed the same with much, much more library and community support.
I might not be understanding quite what you want. It sounds like you always want plot 2 to be orange, for example, even if plot 1 is skipped. For this, you can manually set the color for each plot, or try using the â€˜ColorOrderIndexâ€™ property of your current â€˜Axesâ€™
Thank you! But actually that's not my problem : I have : figure; plot(var1, var2, 'g' ) % green curve hold on plot(var3, var4, 'r') % red curve plot(var5, var6, 'b') % blue curve legend('first', 'second', 'third') \n 'first' is associated with green, 'second' with red, 'third' with blue is all variables exist. If I am in the case where var1 and var2 are empty, there is no green curve, my legend becomes 'first' associated with red, 'second' associated with blue... But I always want the legend 'first' to be associated with green etc. I would like to get if my var1 and var2 are empty : 'second' for red curve and 'third' for blue curve, only. Is it possible?
Normally for transfer functions I would do something like: h = tf([2 5 1],[1 2 3]); rlocus(h) but this is only for a polynomial over a polynomial and I have the transfer function of: {exp(-2s)} /{s^2 + s + 1}
You need to do some manipulation on the raw datetime string (2015-12-10....) e.g. remove 'T' and '+00:00' to get a compatible format. &amp;#x200B; Hopefully that points you in the right direction
I don't get why people keep saying this. In my experience the MATLAB documentation is extremely inconsistent in its quality. Sometimes it is excellent, sometimes it is okay, sometimes it is terrible, and sometimes it is just outright wrong. I am very rarely left with the basic behavior of a function or basic structure of a data type being undefined in Python, but that is a common occurrence in MATLAB. And bugs due to the documentation being factually incorrect are pretty much non-existent in Python, but not uncommon in MATLAB, and Python developers seem to take such issues much more seriously than Mathworks does.
Assuming you aren't dealing with a toolbox or package that is clearly superior in MATLAB or Python, it is mostly going to come down to the complexity of what you are trying to do. For simple stuff, MATLAB is usually going to be easier. It requires a little less boilerplate at the beginning, and it allows you to take some shortcuts. This comes at the cost of specificity, versatility, and predictability. It is harder to do more complicated things, it is harder to tell MATLAB exactly what you want to do which leads to difficult-to-find bugs, and it is harder to tell exactly how MATLAB will behave in a given situation. Further, it lacks the tools Python provides for dealing with complex tasks, and when they get around to implementing them, they tend to be half-finished compared to the Python version. So as what you are trying to do becomes more complicated, Python becomes a better solution. This applies both to the language itself, as well as the numeric libraries.
I think that there is a more straightforward way to do this that I'm not seeing at the moment, but this can be achieved using a couple of principles: (1) the plot handle can be an input to the legend command so that the legend will only appear for the plot handles of interest; and (2) the legend labels themselves can be a variable cell array, so you can subset it with logical indexing just like any other variable. Using those two ideas, you can use some version of the following to meet your goal: figure; plotHandles(1) = plot(var1, var2, 'g' ); % green curve hold on plotHandles(2) = plot(var3, var4, 'r'); % red curve plotHandles(3) = plot(var5, var6, 'b'); % blue curve % Define the full set of labels legLabels = {'green', 'red', 'blue'}; % Find the indices of graphics objects have been assigned: idx = find( isgraphics(plotHandles) ); % Call the legend only for the graphics objects and labels that are % assigned: legend( plotHandles(idx), legLabels(idx) ); If you run this and delete/comment out any one of the three plot calls, the legend should properly reflect the colours of the remaining curves. Given that you'll be using a switch/case call to determine if you'll be plotting a given set of variables, you could potentially assign your logical indexing `idx` variable within that, and thereby avoid the use of the plot handles variables and the find command. Then if you could just call the legend command just as `legend(legLabels(idx));`, and the result would probably feel less "hacky". There are probably more eloquent solutions available, but this will (hopefully) work until someone more knowledgeable than I am is able to provide some advice.
I would not use datestr/datenum unless it's really necessary. Use [datetime](https://mathworks.com/help/matlab/ref/datetime.html) with format `'yyyy-MM-dd''T''HH:mm:ssZ'` should work. I haven't tested to check it though.
Thank you, I will try this!
Ah, I see. So I can think of two things to try: (1) Set â€˜var1â€™ and â€˜var2â€™ to â€˜NaNâ€™ if either is empty (2) Use the â€˜DisplayNameâ€™ option in â€˜plotâ€™ to specify the plot names, instead of specifying them in the â€˜legendâ€™ call
 &gt;(2) Use the â€˜DisplayNameâ€™ option in â€˜plotâ€™ to specify the plot names, instead of specifying them in the â€˜legendâ€™ call I had no idea this option existed!
I used both. No comparison - Matlab IDE beats PyCharm hands down. Variable viewer? Profiler? Debugger? Interactive graph viewer? No free lunch here.
Actually, the 'DisplayName' plot option mentioned by the other user is a much better solution, and one that I had no idea existed.
Thank you very much - this worked perfectly! You've saved me a lot of time and emails :)
 Thank you very much for your help!
I mean probably unless the image is 8k or something. Could be a lot of counring though
Can't you just get the pixels count on the object properties? Honest question, I never worked with images on Matlab.
Ok thank you! I did not know about DisplayName, I have never seen this. I will try that tomorrow, thank you for your help
Sure! You can pick two points. Each point will have an (x,y) coordinate. Simple math from there. If it's already an image (i.e. you didn't need Matlab to produce it), you'd be better off just using a program like ImageJ though. Same result, much faster.
I did it exactly like this, worked :) thanks
matlab has a superior profiler than the free version of pycharm, but the other criteria you list are draws at best
You cannot interactively ingest a .csv into Pycharm. You cannot edit an entry of numpy array in Pycharm. You cannot add an arrow to a plot in PyCharm. Also you cannot easily save all workspace variables. Shamefully, pickled objects are not reverse-compatible: pickled in Python 2 cannot be unpickled in Python 3, and vice versa (not a PyCharm issue, but overall python).
True
imdistline is exactly what youâ€™re looking for.
Loop by 1, set F=10*index inside loop
Iâ€™m sorry I donâ€™t follow. Could you make it any simpler? ðŸ˜¬
Thanks!
To anyone that wants to solve this problem look at https://www.mathworks.com/help/control/examples/specifying-time-delays.html
Or: ind=0; for F = 0:10:200 ind=ind+1; stress(ind) = F/A; strain(ind) = F/AE; end figure;plot(stress, strain) ;% shouldn't you plot after the loop?
stress(F/incr+1) = stress(F/10+1)
Yes, thanks!
Thank You!
Try looking at matlab element by element operations. This should get you headed in the right direction.
Where are you prompting for the temperature itself? I see the prompt for the unit but what about the numeric temp?
I replaced \* with .\* and it still gave me t = 0x1
Here's a rough outline: % Produce data % Plot first frame, save all handles h = plot(...); % Or, plot3, or any other thing that creates graphics % Animate the motion tPlot = 0; tic; while tPlot &lt; time(end) wallTimeElapsed = toc; tic; tPlot = tPlot + wallTimeElapsed * realTimeFactor; % Update the plot to reflect the system state at tPlot set(h, 'XData', ...); drawnow; end I am assuming that all frames will take approximately the same amount of time to plot.
Now try to defining t as a vector like you did with x. If youâ€™re telling matlab to do an element by element multiplication it needs the variables itâ€™s trying to multiply to have the same number of elements.
Thanks for the code, but I'm letting ode113 run free and the time interval between data points is not always the same. Any idea how I can account for that? Maybe as long as the time to plot each point is consistent and smaller than the smallest adjusted real time step, I could use this snippet in the loop?: wait((deltaT(iter) - wallElapsedTime)*realTimeFactor)? I'd have to add at term to make sure wallElapsedTime doesn't include the previous iteration's wait time.
"Tc" isn't defined. "temp" and "Temp" are 2 different variables. I think you mean to have: Tc=Temp; Try doing things one step at a time, and don't use the ";" so the output isn't suppressed. Do this line by line, to debug your issues and to verify what you're attempting to do is being done correctly.
You need separate figure commands unless you want the plots in the same window, e.g. `figure(1)` and `figure(2)`. You might need to use .// instead of // between the numerator and denominator of your expression, I'm not sure and also commenting from my phone. For the colors and markers look up the documentation for plotting.
 F=0:10:200 For x=1:length(F) stress(x)=F(x)/A; strain(x)=F(x)/AE; end plot(stress,strain) One thing to remember is F is an array. You can access the individual elements in the array by accessing the array slot (not correct term but it's really late for me). Also, this is a little more generic in that you can change the step size &amp; it will still work.
Is the area constant? If so, don't even loop it. Like this: F = 0:10:200; stress = F/A; strain = F/AE plot(stress, strain)
For god's sake do NOT use the symbolic toolbox to solve linear equations.....in MATLAB. This is like having a formula 1 car and using it to take kids to soccer practice.
You are attempting to divide matrices but you are using elementwise division instead.
We can't provide you with a solution for your homework. You should give it a go yourself, when you get stuck post us your code and we might be able to help you solve it.
[please have a look at the question, cheers ](https://i.imgur.com/Gp2qVGl.jpg)
I understand the question just fine, thanks. You are doing the correct operation but your syntax is wrong.
Sorry for my lack of knowledgec I'm not familiar with MATLAB, what exactly is wrong tho?
There is a difference between / and ./
Oh I see, I tried b/inv(D) beforehand and it didnt work. So I thought it needed the period
Do you know the code for zeroforcing for 10 by 10 mimo antennas
Make sure you have data to plot.
That's not the only problem but I made a mistake too. Given Dx=b, you need to left-multiply both sides by inv(D). Therefore x=inv(D)*b.
I may sound stupid, but Mathematically shouldn't it be X=b/D?
No, because matrix multiplication is not commutative. You need to left-multiply on the left side of the equation to cancel D, so you also need to left-multiply on the right side. D^-^1Dx = D^-^1b
Yeah I'm gonna look back to my matrix notes, but cheers dude appreciate ur help!
hi tyderian do you know the zeroforcing algorithm for a 10 by 10 mimo
So, i think this has to do with understanding matrix multiplication and not a lack of knowledge of matlab. Its like this. Say you have 3. If you want to make it 1 you multiply it by its reciprocal or 1/3. For matrices, the inverse of a matrix isnt 1/(matrix) its just inv(matrix) and its calculated in a certain way. Therefore if i have A*B = C*D where A,B,C,D are all matrices and if i want to find what B is then i cant just do regular multiplication. I need to multiply A by the inverse of A to get rid of it on the left. Therefore B = inv(A)*C*D (What the other person mentioned was matrix multip. is non commutative that means A*B is not equal to B*A. This is important and is the reason its inv(A)*C*D and not C*D*inv(A) because you're multiplying the inverse(A) on the left side.)
Thank you so much mate, and yeah just looking through my notes now. Thanks once again appreciate it
Hi any body knows the matlab code for zeroforcing algorithm for 10 by 10 mimo
Have fun, your welcome
Thank you for your helpful response. It was both informative and non-condescending.
You live, you learn. Thank you
Interesting. Can you please give a source for this equation? I teach numerical methods, and I am always looking for real-life equations to throw at them.
Right, so it took me a while and I will try to lay it out as easy as I can, but I apologise in advance. You are welcome to ask any questions:) &amp;#x200B; I wrote a separate function that takes in the coordinates of the location (xtarget) and temperature (ttarget) where you would like to know the concentration of the substance. Then the function needs the array containing all locations (x) and temperatures (t) at which the measurements were taken. Finally, you need to provide the readings for the desired substance (s) where locations (x) are different rows and temperatures (t) are columns. Section A: the script finds the closest value from array x to the xtarget by finding the minimum difference between the values. The if statements accommodate for the situations where the closest value is bigger, equal to or smaller than xtarget. By the end of the section you will get the interval between measurement points where xtarget is located with ratiox demonstrating how far xtarget is within the interval between x1 and x2. The procedure is the same for the temperature (t) dimension of the data. By the end of section A it is calculated that point (xtarget, ttarget) is located in a rectangle between 4 points: (x1, t1); (x1, t2); (x2, t1) and (x2, t2). Section B: the script does the extrapolation of the readings for the substance concentrations at (x1, t1); (x1, t2); (x2, t1) and (x2, t2) to give the concentration at (xtarget, ttarget). The four cases of ratiox and ratiot each in turn being equal to 0 just simplify the formula and remove the bits, which would be zero anyway. The formula itself was derived by me and I can send it separately if you wish. &amp;#x200B; NOTE: I assumed that the concentration reading changes linearly between different x and t. &amp;#x200B; `function[sfinal]=threed(xtarget, ttarget, x, t, s)` `%Function to make a 3d interpolation of the dataset` &amp;#x200B; `%Section A` `%For X:` `[valx, idxx]=min(abs(x-xtarget));` `closex=x(idxx);` `if closex~=xtarget` `if closex&gt;xtarget` `n1=idxx-1;` `n2=idxx;` `x1=x(idxx-1);` `x2=x(idxx);` `else` `n1=idxx;` `n2=idxx+1;` `x1=x(idxx);` `x2=x(idxx+1);` `end` `%Find the gradient of x on this interval` `ratiox=(xtarget-x1)/(x2-x1);` `else` `%This part of the code accomodates for the situation when the requested` `%target point is located at the location where the reading was taken` `n1=idxx;` `x1=x(idxx);` `ratiox=0;` `end` &amp;#x200B; `%Similarly for T:` `[valt, idxt]=min(abs(t-ttarget));` `closet=t(idxt);` `if closet~=ttarget` `if closet&gt;ttarget` `m1=idxt-1;` `m2=idxt;` `t1=t(idxt-1);` `t2=t(idxt);` `else` `m1=idxt;` `m2=idxt+1;` `t1=t(idxt);` `t2=t(idxt+1);` `end` `%Find gradient of t at this interval` `ratiot=(ttarget-t1)/(t2-t1);` `else` `%This part of the code accomodates for the situation when the requested` `%target point is located at the temperature where the reading was taken` `m1=idxt;` `t1=t(idxt);` `ratiot=0;` `end` &amp;#x200B; `%Section B` `%Calculate the necessary bits for the formula NOTE: x is row, t is column` `beta=s(n1, m1);` `if ratiot~=0 &amp;&amp; ratiox~=0` `delta=s(n2, m1)-s(n1, m1);` `alpha=s(n1, m2);` `lambda=s(n2, m2)-s(n1, m2);` `sfinal=beta+(delta*ratiox)+(ratiox*(alpha-beta))+(ratiot*ratiox*(lambda-delta));` `elseif ratiot==0 &amp;&amp; ratiox~=0` `delta=s(n2, m1)-s(n1, m1);` `sfinal=beta+delta*ratiox;` `elseif ratiox==0 &amp;&amp; ratiot~=0` `alpha=s(n1, m2);` `sfinal=beta+(alpha-beta)*ratiot;` `elseif ratiox==0 &amp;&amp; ratiot==0` `sfinal=beta;` `end` `end`
Sure thing! This particular equation is part of a series of equations from [this paper] (https://pubs.acs.org/doi/abs/10.1021/am200382g).
I'm a bot, *bleep*, *bloop*. Someone has linked to this thread from another place on reddit: - [/r/engineeringstudents] [shading or tinting a GUI textbox background color using a slider](https://www.reddit.com/r/EngineeringStudents/comments/bj08ai/shading_or_tinting_a_gui_textbox_background_color/) &amp;nbsp;*^(If you follow any of the above links, please respect the rules of reddit and don't vote in the other threads.) ^\([Info](/r/TotesMessenger) ^/ ^[Contact](/message/compose?to=/r/TotesMessenger))*
You can use the matlab function block then call your model (which you exported before) and then use it with the "predict" command. At least i think it could work this way. I got a similar problem, will try this the next days and then update you.
Putting a function call in the loop condition is a big no-no.
I agree with you. F(x) should be a variable (as defined in original post), not a function call. F=0:10:200;
It's worse than that. It's like having an F1 car, but using your minivan to compete in an F1 race.
Stop using symbols, first of all. If you want a numerical result, you should use numerical variables. Second, this would be easy to write by hand as `10/x`. This is the right way to solve this. If you really must use a solver instead of rewriting your equation, look at `fsolve()`.
&gt;Iâ€™d like to keep my data organized and easily accessible dependent on the structure I assign it to. Then you definitely don't want dynamic variable names. If you want to dynamically name the *fields* of a struct, you can use parenthesis, as in `A.(expr)` where `expr` is any expression that yields a string. If you have a list of dynamically indexed variable names, like `var1`, `var2`, etc. you can use an array instead. If var*n* are all the same type, you can just use a regular array, so you'd reference them as `var(1)`, `var(2)`, etc. up to `var(n)`. If they're not all the same type, or they're doubles and the array sizing doesn't work out, you can use a cell array; so you'd reference them as `var{1}`, `var{2}`, etc. up to `var{n}`. This is dramatically easier to access and much more organized than dynamic variable names. For example, what if you wanted to know how many variables there are so you can iterate over them? With arrays, that's `numel(var)`. With dynamic variable names... you're out of luck.
/u/FrickinLazerBeams has got the best answer. I would really suggest trying to implement his/her solution. However, if you must be a rebel, here are 2 ideas you could try: (1) You can always add an extra field to a struct by just doing: â€˜s.newfield = newVal;â€™. This would be dynamically naming fields in a struct (2) You can use the â€˜[assignin](https://www.mathworks.com/help/matlab/ref/assignin.html) â€˜ function to dynamically create new variables (like structs).
Or, a third, terrible option: use eval.
Thanks :) &gt;(1) You can always add an extra field to a struct by just doing: â€˜s.newfield = newVal;â€™. This would be dynamically naming fields in a struct By the way, this is not dynamic naming, this is just the traditional (and safe, correct) way of assigning to a struct field. If `newfield` doesn't exist it will be created, and it's value will be set to `newVal`. Using that syntax, newfield must be a literal string, it cannot be an expression or variable, so this is not dynamic field naming. The only way to dynamically reference a struct field is by using the `structName.(fieldName)` syntax. In this case fieldName can be a string variable or an expression which yields a string when evaluated.
I'm in a bit of a time crunch, so I can't give you a complete answer, but essentially if you can figure out how many standard deviations out from the mean it is, you can use the [Quantile Function](https://en.wikipedia.org/wiki/Quantile_function) \- often given explicitly by wikipedia - to transform into your alternative distribution; if it is not given by Wikipedia, you can solve for it with [Inverse Transform Sampling](https://en.wikipedia.org/wiki/Inverse_transform_sampling). Plenty of code around the web to illustrate this.
Only taking a quick look, partially because your formatting is messed up a bit. The point of rkf 4/5 is to use the same set of midpoints to calculate both a 4th order accurate solution and with 1 more midpoint, a5th order accurate one. It looks like you have the 4th order one ok (judging by the fact k6 is not used) but they arent using the coefficients I use so I don't know for sure. your next steps are to: Calculate the 5th order accurate solution with the same set of midpoint gradients. Subtract the 4th order solution from the 5th. Compare the magnitude of the difference to a tolerance (this should be an input that can be tuned). If the tolerance is exceeded then reduce h and recalculate. You might want both a relative magnitude and absolute magnitude for functions which vary by a large amount over their span but can manage with one of the two. If the tolerance is met, but by more than a prescribed margin then increase h and recalculate. Choose this margin as a constant something ~ 1 order of magnitude. In both cases use an informed guess on the change on h. Keep repeating till the difference between the 4th and 5th order solution falls within your "acceptable" range. When this happens, use the 5th order solution to increment your function to y(n+1)=y(n)+h*df/dt(estimated by rk5). And increment your time t(n+1)=t(n)+h Put the whole thing inside a while loop that starts with t=0 and continues till t(n) &gt;=5.
[This article in the documentation](https://www.mathworks.com/help/matlab/creating_guis/share-data-across-callbacks-in-app-designer.html) addresses that.
Here's a solution: x_10 = linspace(0, 2*pi, 10 ) ; x_100 = linspace(0, 2*pi, 100) ; y_10 = sin( x_10 ).^3 ./ ( x_10 + pi/6 ) ; y_100 = sin( x_100 ).^3 ./ ( x_100 + pi/6 ) ; figure(1) plot(x_10,y_10); title('$$\frac{sin(x)}{x+\frac{\pi}{6}}$$ with 10 points' , 'Interpreter' , 'latex') figure(2) plot(x_100,y_100); title('$$\frac{sin(x)}{x+\frac{\pi}{6}}$$ with 100 points' , 'Interpreter' , 'latex') Some notes: * Your main error was that you were producing only a scalar y. Why? Because by using the `/` command, you've asked matlab multiply sin(x)^(3) by the psuedo-inverse of x+pi/6. That is, a 1x10 multiplied by a 10 x 1; what's the dimensionality of result? Type `doc /` at the command prompt to see what's going on here. * Instead, you needed the `./` operator; this is elementwise, meaning that if possible, it divides each element of the numerator, by the element of the denominator with the same index. * Stylistically: * I've aligned similar operations, to make any differences between them more obvious * Adding some whitespace is nice and easy on the eyes * More descriptive variable names means fewer variable names in your head: `x_10` and `x_100` here. * It's good to group the calculations together, and then group the plotting operations separately * Note that I've added sopme latex commands to make your plots pretty. Take 'em or leave 'em. Matlab Latex interprets the stuff between dollar signs according to its rules, and the rest as just text.
thank you very much this helped a lot!
No problem :) Thanks for not misleading people looking for help by providing misinformation about basic functionality!
I don't know an elegant way to do this. I'm sure it's possible, but I'm not 100% sure how. Regardless, I can give you a baseline solution that you could work off of. For demonstration purposes, let's define a table "tbl1 = table(x,y,z)" Let: x = [1 2 3 4 5 6]; y = [7 8 9 10 11 12]; z = [13 14 15 16 17 18]; tbl1 = table(x,y,z); If we do: x_test = tbl1.x; save('x_test.mat','x_test'); You should get a .mat file.
&gt; why can't I just do new\_cell = cell\_strings{I}? You're very close. The curly braces remove the elements from a cell, while parentheses will keep the elements in cell format. Try this instead: new_cell = cell_strings(I);
Dude youâ€™re going to heaven
I have used *assignin* method before and it worked as intended.
When I've done it, I build my functions as scripts first to make sure they work as i want them to, then copy/paste everything into app designer under the intended button or w.e i want to use to initiate the function. In my experience, global variables work the same way in scripts as they do in the app designer, although app designer code is slightly different in terms of structure, the variables and functions and stuff work the same.
Are you trying to make r a vector? Like r = [2 1 0.5 0.4]? Because right now it's just getting set to r=2 and that's it. Never getting updated.
I want to find the value for r=2, plot that, and repeat for r=1, 0.5, and 0.4. Hopefully, getting all their values on the same graph.
See this: https://de.mathworks.com/help/matlab/matlab_prog/access-data-in-a-cell-array.html
Great thanks
My code doesn't assume anything about the intervals for the data. You may need to interpolate at the "Update to reflect system state at `tPlot`" step. The plotting rate and the fidelity you are looking for will determine the order of interpolation that you want to use.
any suggestion?
Just FYI: it is called dynamic field reference. Also see this: https://blogs.mathworks.com/loren/2005/12/13/use-dynamic-field-references/
What do mean by "contains the 27 elements as a string"? A .mat file contains Matlab variables that can be loaded into the Matlab workspace. Do you want 1. A mat file containing a variable that is a string representation of the data in your table? Or... 2. A text file that can be opened and read by a standard text editor? If you want (1), stop. You don't want that. There's no reason to do that, since any time you want to do anything with your data you'd have to read the string and parse it back into useful data. This is difficult, tedious, and error prone, without any redeeming benefit. Your data is already in a useful format. If you need to save it for later, save it in a useful format. If you want (2), then you don't want to make a mat file. You want to make a text file. You can do this via csvwrite, dlmwrite, or even fprintf. You should read the documentation for these functions.
Okay well I ran your code as-is and it didn't have an issue. What error are you getting?
That would save a numeric array, not a string (which is a better idea anyway).
It doesn't run all the r values. It only plots the line of one r value
Oh, totally true, didn't even see OP wanted it as a string. Not sure what that'd be used for, but it could certainly be done...wouldn't exactly advise it though.
You need to define r as a vector (r = [2 1 0.5 0.4]) and do vector operations throughout.
I tried that and I got dimension errrors
I apologize if my understanding of statistics is rudimentary (my field is geology). If I understand it correctly, using the quantile function for a random variable (x1) within my distribution will give me the probability that a randomly drawn x variable will be below x1? I am not absolutely sure how this would work to transform my lognormal distribution into an alternative distribution. Does truncating my distribution not work?
Right the problem Iâ€™m having currently when trying to do that is that Iâ€™m naming the strucs in a for loop where the number of structural arrays added each time the code is ran depends and varies on the number of elements in the input array.
Yeah it's not a particularly good idea.
Can tell you exactly what the error is without seeing it, but you probably messed up your division or multiplication or exponentially ation somewhere and didn't do the matrix operator
Just a note about cellfun. It's handy. Same with arrayfun and structfun. But function handles in MATLAB, along with these functions, often result in code that is less readable, and for people who are not very familiar with MATLAB, it will really leave them scratching their head. Consider who will be maintaining your code before using them.
What's your question? I didn't understand what the problem is if your code runs correctly
Do you really want to restrict people to the smallest subset of features common to all programming languages?
That's a completely and totally different issue. Dynamically changing the size of an array is way less bad than dynamically changing its name. The best way to handle this is to preallocate the struct array before you begin filling it. You can do this with `repmat()` and the `struct()` function.
Absolutely not. I only want people to be aware of more readable and maintainable alternatives and they can decide which feature to use based on their use case.
So it reads like: 2.06 Enter 1, 5, or 10 I enter 5 it gives me the correct change... ...and another random number immediately after. Says enter 1, 5, or 10. I enter a number. it gives me correct change. Then the program terminates. It should only run for one cycle.
Very helpful, thanks
&gt; format bank What do you think this does? I ask because you call it twice, so you must think that doing so has some effect. &gt;disp = 'Payment amount can not be less than amount to be paid' It's not a good idea to define variables with the same name as existing functions. What is the purpose of doing this? What did you make this choice? &gt;disp(\['Your change is: $' num2str(amount-random, 2)\]) Now you're using disp as a function again, but it's a variable containing the string 'Payment amount can not be less than amount to be paid', so you're indexing it with a char array. This is bound to produce weird results. &gt;disp(\['Given in the form of ' num2str(five) ' five, ' num2str(two\_ones) ' pair of ones, ' num2str(quarters) ' quarters, ' num2str(dimes) ' dimes, ' num2str(nickels) ' nickels, and ' num2str(twocents) ' sets of two cents.'\]) Read the documentation on fprintf. There is no reason to make this so difficult. I suspect it's not actually running twice, but doing such bizarre things with disp may result in unexpected output. What is the name of this script? Are you sure you're not somehow calling it twice?
Have you run it line by line to see where this behavior occurs?
This is why it's important to experiment with things in the console. It's the whole point of an interpreted language like Matlab.
+ I think you need the `linprog()` function. https://www.mathworks.com/help/optim/ug/linprog.html Rewrite your math as vectors of unknown variables (x) and matrices (A) (also called the technology matrix) and the vector (b) (also called as resource constrains). Your maximization problem can be converted into minimization (accepted by Matlab's `linprog()`) by multiplying all the terms in the objective function with -1.
These are readable, efficient, and maintainable tools that exist in many languages. Programming with the constraint that your code be understood by a beginner who won't read documentation is an impractical approach. In the real world, it is expected that technical professionals will be responsible for knowing whatever is required, and educate themselves as necessary. It's not a good idea to handicap yourself because a hypothetical future person won't be appropriately capable.
Hi all, &amp;#x200B; I am trying to perform image registry on the following image of a deep space object. I am utilizing matlabs built in imregcorr function but it returns an identity matrix so there is no calculated rotation. Attached is a stack of the two images i am trying to register clearly showing rotation. I am wondering if this is a feature size limitation? any ideas why I would run into this? &amp;#x200B; Thanks!
&gt;... &gt; disp(lambda) &gt; disp(Results) &gt; end This is what I'd write if I was intentionally trying to produce the exact output you described, so everything seems to be behaving as it should. If you want to format the output better, you would probably want to use `fprintf()` instead of `disp()`. The documentation describes its use in great detail.
I've done something similar in C++ where I was able to read the pixel array of a bitmap image and get the rgb values. Maybe this will be helpful: https://www.mathworks.com/help/matlab/ref/imread.html
I would think RGB would be a better dimension no? Set a minimum threshold for the Green index, calculate the number of pixels with that minimal green. Perhaps maybe the Green index will need to be the max value of the three as an additional rule?
It's possible, although I'm not sure what the second part of your question is... are the parameters that change stored in an array and indexed by i (if so, yes you would have to put (i) behind them). It would perhaps be helpful if you included some example code of what you're trying to accomplish.
I agree, this does seem possible.
Yes, you can. For example, I once wrote a script to simulate the velocity and acceleration of a liquid drop. Here is the main program: ``` clear all clc % time span tspan = 0:0.01:25; % radius of drop r = 0.0005:0.001:0.01; x = zeros(length(r), length(tspan)); v = zeros(length(r), length(tspan)); a = zeros(length(r), length(tspan)); for i = 1:length(r) rCurrent = r(i); % use ode45 solve differential equation [t, y] = ode45(@(t, y) ComputeVelocity(t, y, rCurrent), tspan, [0; 0]); position = y(:, 1); velocity = y(:, 2); acceleration = ComputeAcceleration(velocity, rCurrent); x(i, :) = position; v(i, :) = velocity; a(i, :) = acceleration; end ``` I put the ode45 in a loop where the `rCurrent` is the radius of the liquid that changes every loop, so ode45 only solves for the y(t). Just FYI, the `ComputeVelocity` looks like this: ``` function dydt = ComputeVelocity(t, y, r) % volume of sphere vSphere = 2/3 * pi * r^3; % volume of cone h = 2 * r; vCone = 1/3 * pi * r^2 * h; % gravity force g = 9.8; rhoWater = 998.2336; mass = (vSphere + vCone) * rhoWater; forceGravity = mass * g; % air friction rhoAir = 1.29; areaDrop = pi * r^2; dragCoefficient = 0.04; forceAir = 1/2 * rhoAir * areaDrop * dragCoefficient * y(2)^2; % differential equation, y(2) velocity, y(1) displacement dydt = [y(2); (forceGravity - forceAir) / mass]; end ``` I hope it can help you somehow.
Some other ideas: On top of RGB detecting green with a threshold, you could use edge detection so only the plant leaf is measured and not surroundings (you could mask out anything outside the edge and ignore those pixels) I suspect colour white balance could adversely affect results so try and get your camera set up with specific settings.
Just make sure you're realistic about how long it's going to take to run. Depending upon details ode 45 can take milliseconds or seconds to run. So let's say you find out it's going to take one second. If you do that in a loop 20000 times that will take five and a half hours. That might be perfectly fine, but you'll want to be really sure that you have it set up to do exactly what you wanted to do before you go away for five and a half hours and come back to find either that it's actually taking much longer than that, or it just spent five-and-a-half hours computing the wrong thing. So try looping for say just 20 iterations or 200 iterations until you have all the bugs worked out before you run all 20000. But also note that if it takes 30 seconds per iteration, then you are talking about something that will take a week to run.
Have a look at fieldnames(a) It gives a list of the fields in a struct and then you can loop over them.
Thanks a lot! This helped me to accomplish what I wanted, so it works now. Thanks again!
Thanks for the help! My simulation actually already runs duw to the code that /u/IserlohnArchmage posted in his comment.
The time of the simulation increased from 1 minute to 10 minutes, so itâ€™s acceptable for me.
Use parfor instead of for if you have the toolbox for it
If you type in `doc plot`, you'll notice that that function is meant for 2-D plot. In fact, if you check under the heading of MATLAB &gt; Graphics, you'll find a table detailing the various plotting functions available to MATLAB. While you're at it, do read up on `serial` as well.
Yes that's correct, but I'm not sure why you say it.
Use imread to create a pixel array and then either use a loop or a sum to find how many are in the green ranges of RGB
It sounds like you are taking data from multiple sensors somehow. Unless they have a common timing signal between them (for example from a DaQ box used to obtain the data), I'm not sure you can tell the time between peaks because the starting time of the signals could be shifted. Furthermore, you could end up with errors due to different sampling rates etc. If you do have a common time for all sensors, you can use findpeaks() as you stated, and then use the find() command to output the index of each found peak from each signal. That index value can then be used with the common time vector to find the time each peak occurred.
Yeah I've been using multiple sensors, these have all been synced up in the pre-processing. So I get the first part, only think I'd wonder if you could explain in further detail is what you meant with ''That index value can be used with the common time vector to find the time each peak occurred''. Really appreciate the help though!
I agree. In this case though, cellfun isn't a handicap. In OP's case, it saves a few lines of code at the expense of readability. cellfun is just a MEX function utility, not part of the core language.
Computing the time difference between a pair of peaks should be relatively simple. 1. Get the peak (Y-value) of interest from sensor 1 2. Store the time value (X-value) of that peak 3. Get the peak of interest (Y-value) from sensor 2 4. Store the time value of that peak 5. Subtract the time values &amp;#x200B; Determining if two peaks belong to the same nerve impulse is a big trickier. You'll have to walk through time, incrementally, finding the peaks in time order from each sensor. If you find a peak at the neck, then we'd expect to find the next one at the shoulder. &amp;#x200B; If you're not working with streaming data, I think I'd compute all of the peaks ahead of time, and then process the peaks in time order.
put the whole fucker in a for loop so: vec = [r1, r2, r3, r4]; for n = 1:length(vec) r = vec(n) your code using r figure (1);plot(x,Temp);grid on;xlabel('x');ylabel('Temp'); hold on end figure (1); label('['r = 'numstr(vec(1))]','['r = 'numstr(vec(2))]',['r = 'numstr(vec(3))],'['r = 'numstr(vec(4))]') something like this. Please, please use a code block the next time. This is unreadable.
Try cross correlation to find the optimal lag between the signals. This will ensure that the signals are correlated (not picking the wrong peak) and will give you the number of lagged time samples, assuming you know the sample rate of the signal you can calculate time that way.
May the Lord bless you and your generations to come
You could use the findpeaks function, as you mentioned, but use the \[pks, locs\] implementation to get the locations of each individual peak. Then subtract the 'locs' values for each data set using a for-loop. To make sure you're looking at the same peaks in each data set, you'll probably have to do some visual pre-inspection of the data to know what the approximate time range is that you should be looking for, then set a threshold to look at the output array for the time difference values. Or, alternatively, you could strip the datasets down so they include only one stimulus point per dataset that you're comparing.
Should be simple doesn't mean simple in practicality. This is actually a chicken and egg problem. Most peak detectors have a parameter for minimum peak distance, or "lockout time". In order to set this parameter you have to give it an initial guess which is shorter than the true difference in peaks. For very clean signals it won't matter because you can set it very low. But if you have noisy data then you can't set it too low, otherwise you'll pick up shot noise as peaks. There's a happy balance somewhere. So it helps if you have a predicted time or if the timing is consistent. If the spacing is highly variable and its noisy, it will be difficult.
I'm quite clear on the process itself, however not 100% on how I subtract the right values in, what you call, step 5. This data set has several markings through which I can identify different test conditions. However we're talking about thousands of 'spikes in the amount of spikes' I want to automatically be able to correlate with the next point of measurement and calculate the time between the two. This is the main thing I'm confused about, which functions (or if there aren't any, how should I go about finding, eg.: the 599th spike in the neck and let the script automatically check how long it took until the 599th spike was seen in the wrist. For me I can usually think of the strategy behind coding, just not which arguments and functions to use. Thanks for you help so far, though!
From what I've seen when plotting my data I'm sure 99% of the data in my dataset correlates to the next 'spike in spikes' in the second or third point of measurement. The thing which I'm trying to do is write a script which automatically calculates this delay and divides it by the distance and sample rate. This dataset will have thousands of spikes, all of different physiological situations (marked through markers), and the main goal is to have the script calculate the time between spikes (which I know are correlated) in the neck and wrist. My main problem here is not knowing how I can get a matlab script to use the correct spike in spikes of each respective measuring point, basically: how do I get matlab to subtract the time between situation 4 (let's say around spike 1000) and situation 10 (let's say around spike 3432); how do I get matlab to just subtract the time from the correlated spike?
So your recommendation is to manually inspect all different scenarios (talking thousands of 'spikes in the amount of spikes'), get averages and make my own filter? Is there no way to do this automatically in matlab, because I presumed there was. Anyway, thanks for the help so far!
I'm not saying inspect for every spike -- simply that you can inspect a few spikes to see what a reasonable delta value between them is from dataset to dataset. Then set a threshold to make sure that if this delta value is exceeded, you break the loop or flag the datapoint some how. Or, if the stimulus is happening at a uniform time interval, then you can just divide your datasets up into discrete sets with one stimulus per set. I don't know what your data is like, because you haven't provided a lot of information about it.
I don't know what you mean by truncating your distribution, but if you have an arbitrary distribution - like lognormal - you can transform it into uniform and then into whatever your new distribution is. See [Probability Integral Transform](https://en.wikipedia.org/wiki/Probability_integral_transform) &amp;#x200B; Have a look at some sample code using the Quantile Function of a Normal Distribution, to transform a uniform into normal; it agrees heartily with a standard normal distribution: &amp;#x200B; close all x_uniform = rand( 1e5 , 1 ) ; mu_norm = 0 ; sigma_norm = 1 ; q = @( xx ) mu_norm + sigma_norm * sqrt(2) * erfinv( 2 * xx - 1 ) x_norm_transform = q( x_uniform ) ; x_norm_manual = randn( size( x_uniform ) ) ; figure histogram( x_norm_transform , 'EdgeColor' , 'none' ) hold on histogram( x_norm_manual , 'EdgeColor' , 'none' ) grid on legend( { 'Transform Version', 'Manually "randn" generated version' } )
Inspect the cross correlated waveform first. Is there an obvious cycle to the correlation? Ideally the lag time corresponding to maximum correlation will be the time interval that you are interested.
Wow neat, I'm writing a paper describing exactly this process right now. The simplest method is by using the findpeaks() function: [pks,locs] = findpeaks(data) This function is particularly nice for selecting multiple peaks, as the prominence-based peak detection is relatively good for dealing with noisy data. Anyways, *locs* will provide you with the x indices of the peaks and subtracting the peak locations from two datasets will provide you with the number of timesteps between them.
Like this? clc;clear; winner = 1; %1 for red, 2 for black str1 = 'red'; str2 = 'black'; str3 = ' won the game!'; if winner == 1 msgbox(strcat(str1,str3)); elseif winner == 2 msgbox(strcat(str2,str3)); end
Haha, well, thanks. Seriously though, look at the double use; maybe clear r after the first loop, or rename the second r vector.
Looks like a [linear programming problem](https://www.mathworks.com/help/optim/ug/linprog.html) to me.
Thank you so much for taking the time to write this and help me and anyone else who may find this, it is wonderfully written and after adapting some stuff to my tables it worked like a charm, you helped me and my research a lot!
I would say convert to csv in excel and use readtable to import the data. MATLAB tables are pretty great, especially for mixed data types.
Or: &amp;#x200B; `str = sprintf('%s won the game', P_color);` `msgbox(str);`
Yours is the better solution =P More logical.
Why calculate within a loop? Instead do: [X,Y] = meshgrid(x,y); H = a*X + b*Y; &gt; H should be constant of x but shows as constant of y Doesn't `H` vary linearly with both x and y? Or am I misunderstanding?
does `mod()` even work for symbolic stuff?
not sure, perhaps that's the problem I first used MatLab today so I'm a bit clueless, even if I know what I'm trying to do
Seems like it should probably be fine https://www.mathworks.com/help/symbolic/mod.html
Thanks, I couldnt get that working either, but I created a simpler example syms a b c integer positive assumeAlso((1 &lt;= a) &amp; (a &lt;= 10)); assumeAlso((1 &lt;= b) &amp; (b &lt;= 10)); e1 = mod(sym(a),sym(b)) == 3; sol = solve([e1], [a, b]); aSol = sol.a; bSol = sol.b; I've just stumbled across this answer which says that the 2nd argument of mod() must be a vector or a matrix https://uk.mathworks.com/matlabcentral/answers/337085-how-to-do-symbolic-mod-operation Not quite sure what this means for my problem, I've a lot of reading to do :)
Try check xcorr function
I'm really just trying to understand the math behind FMCW. It seems to simple in theory but I just can't write the code to do it.
Can you describe how this is different than just plain ol' matrix multiplication? For example, are the vectors of differing lengths? I would assume not since you can multiply x1*x2, but your notation (well, the text form of the notation) is unclear.
The notation is ambiguous and perhaps I'm getting it wrong. If X is a 1x2 that is [x1;x2]. X*X' should return in the matrix I stated in the post. x1 and x2 will be 1xN where N is the number of samples. Perhaps that is just matrix multiplication I am after. Matlab complained about doing 3 dimensional matrix multiplication though.
Yikes, yeah it should just be 2D: x1 = [1; 2; 3; 4]; % 4x1 column vector x2 = [5; 6; 7; 8]; % 4x1 column vector X = [x1, x2] % 4x2 row vector of column vectors (matrix) Y = X*X'; % 4x4, 2D matrix Does that look about right?
Good luck!
It looks like label2cat thinks that youâ€™re inputting an rgb triplet instead of a scalar value for each label. I havenâ€™t used this segmentation code. Do you know how they want that formatted? Maybe they want one label per pixel or per segmented region?
I have no idea how they want that formatted
Just a couple of ways off the top of my head: 1. Create a 3D array from the 2-by-2 matrix X\*X' and vector t. 2. Create a cell array (1D here) with elements made out of 2-by-2 matrix X\*X'. The choice ultimately depends on what you want to do with them later.
I found an example: https://www.mathworks.com/help/vision/ref/pixellabeldatastore.html#butueui-2 It looks like the 2x1 array is fine. Maybe try changing the values from [0,255] to [1,2]
Hi you know the matlab code for zeroforcing in mimo for a 10 by 10 antennas...please share your knowledge if you know..thankyou
What kind of offset? Phase offset? You could try looking at the cross bicoherence.
Which part is confusing?
What does ii mean ?is it the result of the amount of numbers in a vector?
Hi do you know the matlab code for zeroforcing in mimo for a 10 by 10 antennas...please share your knowledge if you know..thankyou
Leave me alone. You have commented directly to me multiple times in unrelated threads and have reached out to me unsolicited with Reddit chat.
ii is the variable this person is using for counting iterations in the for loop.
if you dont know tell me directly..no need of this kind of barking
If I had anything helpful I would have answered. You don't need to ask multiple times, a user gets notified if you reply to them. Why not make your own post instead of commenting randomly in other people's completely unrelated posts?
Seriously, holy buckets. Is that a bot? I think it's a bot.
Looks like you have 'le' (LE) as the 2nd input. It may be trying to use the 'le' function instead. Change variable name to something else &amp; try it again.
I think the user use it to avoid to override the symbol for complex number.
This is pretty easy to do by defining your table as a cell array where you can create it in a for loop like for i = 2:n Foo(1,i) = Sn Foo(2,i) = Yn Foo(3,i) = Xn End Matlab will tell you it isn't proper, but there aren't many more ways to do it.
Thanks for the answer. Actually, I should have said that H is actually a combination of funtions a(x) and b(y) where a and b require vector inputs. That's why I thought that double for loop was the easy way to compute H.
 I would try something like this Input(' ') while( AngleI &lt; -90 | AngleI &gt; 90) Re-enter End Convert
You might also need to convert from string to num, it's an easy command Angle=Str2num(AngleI);
http://imgur.com/gallery/zEnbTFH
I assumed to find the ln for a variable was log(variable) which worked before but in this case it cam out as incorrect value
If your script is mostly running on your PC, you can send commands to your Arduino via MATLAB using a MATLAB function block in simulink and "coder.extrinisic" the functions to be run in the MATLAB environment.
Thanks, will check it out! The script will just be a bunch of statements that use the Simulink inputs as conditions, so it's fairly straightforward.
Looks to me like your labeled images are RGB but you are not specifying the labelIDs as an Mx3 matrix. â€œIDs to map pixel labels to ClassNames, specified as a vector, an m-by-3 matrix, a cell array of column vectors, or a cell array of m-by-3 matrices. Values must be integers in the range [0, 255]. m-by-3 matrices are only supported for RGB images.â€
Alrighty, so I was thinking in the correct way for peak detection. Main problem I currently have is I how I limit the automatic peak matching to the correct peaks; so I don't match the 400th 'spike in spikes' in the neck with, let's say, the 450th 'spike in spikes' in the wrist. How did you code this in your script? Also, what a coincidence! How's the research/writing going for you?
Yes basically I'm trying to determine time of flight by looking at the phase difference between the transmitted signal the the reflected signal.
Cross bicoherence might do this, since it quantifies phase coupling. There's a HOSA pack on Matlab exchange for this sort of stuff.
Not sure what you mean by "the axes shift with the data", but did you try any of the other [`axis` style commands](https://www.mathworks.com/help/matlab/ref/axis.html#buk989s-1-style), like `axis square`? If it's just the size of the plot that you're concerned with, that might be the ticket. If you need something else (like changing the actual limits), I think you'll have to clarify.
So in my project, I'm matching observed peaks with modelled peaks. For each observed peak, I search for a modelled peak within some proximity \[nBackwardSteps nForwardSteps\]. For simplicity, I'm simply taking the maximum modelled values within the search interval, whether or not it is a peak - since anything beyond the search interval is effectively meaningless. If you're doing peak detection on two datasets and trying to match them, you need to write an algorithm to attenuate peaks. This can be done by either (A) systematically removing the least prominent peaks in either dataset until the number of peaks contained in both are the same, then matching based on proximity; or (B) removing peaks that do not have corresponding peak in the counterpart dataset based on some proximity (i.e. if there are no matching peaks within \[nBackwardSteps nForwardSteps\], remove the peak). Removing the peak simply means removing the index from your peak index list (such as locs if you're using findpeaks). While doing peak attenuation it's important to keep some summary statistics (i.e. how many peaks remain after attenuation divided by the original number of peaks), as you'll want your process to minimize the number of peaks removed. Hope this is helpful
I didnâ€™t see a question...
What have you tried? What worked? What didn't work? (I have no experience with the antenna toolbox, but my advice would be to follow some tutorials and read the documentation. Matlab has insanely great documentation compared to other tools.) Also, you may have more luck asking in /r/rfelectronics given that this is specific to the antenna toolbox. However, you'll need to ask specific questions and not a blanket "model this antenna for me" as you've done here.
Oh, sorry! I'm rookie on Matlab and basically need help to write a script that calculates the temp gradient. The issue for me is how to write the previous value. The table is much larger and I don't want to do it manally.
No worries! Where did you get the table from, an excel spreadsheet? And does each sensor have its own table / spreadsheet?
What's the documentation say?
Its a excel spreadsheet. Its ordered in the way that the height represents the sensors vertically to the left and the values are filled in for each timestep (horizontally on top), so I have one spreadsheet for all the data. Hope that explained it. Is it possible to copy in a part of the spreadsheet to the comments here in reddit?
Oh, ok thanks. Sorry for "model this antenna for me" style, i was expecting it to be sort of "show me where should i go".
I try to plot the waterline over a certain domain. If the water level rises the y axis shifts from for example 0 to 40 to 4 to 45. (Between frames; each time step is a plot). It appeara that axis equal overrules my initial ylim statement
What an awesome name for whatever that is. I am now reading the documentation to figure out ways in which I can applying treebagging to my work. I am also interested in being able to say treebagging in meetings.
Rather than using the gradient function, you can use the diff() function for your derivatives. Even better, find or write an algorithm for numerical derivatives that uses a taylor series expansion. &amp;#x200B; When you implement an algorithm like that, any measurement noise will be amplified in the derivatives (like your plots show). Another good option is a butterworth low pass filter, which Matlab has built in functions for. So you process would be 1. Filter original signal. 2. Numerical derivative. 3. Filter the derivative. 4. Numerical derivative. 5. filter again.
Ah, okay now I understand. Did you try reversing the order (e.g. use the `axis equal` command, then set the limits)? Since the command sets the limits mode to manual, you should be able to set the limits without it auto-adjusting.
Thanks for the answer ! :) &amp;#x200B; I found [this](https://fr.mathworks.com/help/signal/ug/take-derivatives-of-a-signal.html#responsive_offcanvas) for the filtering on derivation, but I dont get how to implement this to my data. Do you have any example of using a filter for derivation ?
I've used this toolbox before, but it's been a while. Regardless, here's the general approach. The documentation is the place to go. You should be able to find a function which models a generic antenna, and within there will be a parameter that lets you specify that it's a spiral. Then there should be another function which allows you to model an array. You should then be able to tell it that each element is a spiral, or you can tell it that each element is the spiral antenna is the model you specified earlier. If you can do it all in the array function, that's probably better. The one thing that doesn't appear to be specified is what type of array is it? If it's not specified, it's probably a linear array. That's Matlab's default. You also need to know how many spirals are in the array. Hope this helps.
Well, i don't need to model entire array, only an element, which is a spiral antenna
I changed the values as you suggested but get the same error
My labeled images are grayscale
How about setting the ylim max value as a variable, then using ```axis```? Then the x and y axes will go from 0 to 40. Is that what you're wanting? Something like: xymax = 40; axis([0,xymax, 0, xymax])
Alright I understand now and it appears that you already copied part of the spreadsheet into reddit (Iâ€™m using the iOS reddit app). So what you want to do it pretty easy. Do you understand MATLABâ€™s matrix indexing? Example: say I defined a matrix, MAT = [1,2,3,4;1,2,3,4;1,2,3,4]; If I were to type into MATLABâ€™s command line: â€œMAT(:,1)â€ (obviously w/o the quotation marks) do you know what would be returned?
The input images are grayscale or the encoding of the actual label images is grayscale? The error seems to indicate that the encoding of the labels is an RGB triplet. Iâ€™d double check things by loading one of the label images and checking how many channels it has.
[Documentation](https://www.mathworks.com/help/stats/treebagger.html) doesn't mention cross validation at all from what I can see
Ok, well then you might be able to do this in a single line of code, then plot it in a single line of code. You might want to use more code to make it more readable. The point is, this appears to be more of an exercise in getting you used to reading the documentation and finding the model you want. If this seems crazy hard, take a step back. Matlab intends this type of thing to be really easy.
Yes, that will be all values of the first column, so three 1s.
[copyobj](https://nl.mathworks.com/help/matlab/ref/copyobj.html) can do that
Great so your problem is just that simple. Oh are you aware of the difference matrix and element-by-element operations? So say you have two variables, m1 = [1;2;3]; m2 =[1;2;3]; where m1 and m2 are 3x1 matrices. If you try m1*m2, MATLAB will give you an error, but then if you do m1.*m2, MATLAB will return a result, specifically [1,4,9].
I'll try to make that work, thanks
I do now, thanks. I guess that applies to division too?
Correctamundo!
I am not an expert on Matlab ML libraries but usually, cross-validation is performed in the .fit part. TreeBagger seems to be a library to build trees (set parameters). Take a look at fitctree, which seems to have a cross-validation option: https://www.mathworks.com/help/stats/fitctree.html#bun1a2w-1
I'm tired and not in the mood to think a lot, so maybe that's totally useless, but have you tried using linspace?
Reformatting so I can actually read your code: % input for angle and rad conversion AngleI = input('choose your angle bro dare ya: ') while (AngleI &lt;= -90 | AngleI &gt;= 90) AngleI = input('cmon between -90 and 90: '); end AngleI=AngleI*(pi/180);
I guess that's your answer. Have you looked to see if there are other tools for doing CV on a generalized model? There's no reason it would need to be built into TreeBagger specifically. Cross-validation is applicable to many types of model.
[This](https://www.youtube.com/watch?v=3n-z5C30YPE) looks like a good walk-through.
the first thing I see here is that your loop parameters in your nested for loop are not correct. I am assuming they were mis-typed, because if you ran that code, you would only have one green pixel. &amp;#x200B; That said, I don't think you need a nested for loop here. Presumably row and col are the same length. What you want is something along these lines: &amp;#x200B; for i = 1:length(row) image(row(i),col(i),1) = 0; image(row(i),col(i),3) = 0; end &amp;#x200B; I am also curious as to whether replacing the two zero assignment with: image(row(i),col(i),\[1 3\]) = 0; would accomplish the same thing in a single line. Have not tested it, but have a hunch it will work!
Tried that. It seems to work for a bit, but my x axis still shifts at a couple of moments, strangely.
Hm, that would make the axes square. That's not what I'm looking for. I want my y to go from 0 to 40, and my x symmetric around zero with such boundaries that they are equal (so the same unit per axis length at x and y)
Thank you for replying I'm going to give it a try!
Typically people use a while loop for this. Like selectionGood = false; while ~selectionGood %ask user to make selection %if selection is good, set selectionGood = true end
Thanks I will try that
I'm not very experienced with reddit, but is there a way you format it such that it us readable? At least the way I see it on my display its a pain in the a to read. no idea what your MATLAB code looks like and what you want to do mathematically.
Hmm none of these really resulted in me finding a straightforward answer with any quantifiable results on percentage any suggestions?
int(f,x) is indefinite integral. Any integrable function has infinite number of antiderivatives, which differs by a constant. In other words diff(int(f)+const)=f So there is no surprise Wolfram and Matlab produced different results
I know at least in this subreddit, indenting each line with four spaces will give proper formatting!
Code blocks are done like this in markdown: &gt; \`\`\` &gt; CODE &gt; \`\`\`
Interesting question. My intuition is either "not at all" or possibly "yes, but imperceptibly so." I've never looked into how the `~` is actually processed by Matlab, but my guess is that it just indicates `null`. You can try for yourself though using the `tic` and `toc` commands.
Have you looked at the documentation for [histogram](https://www.mathworks.com/help/matlab/ref/matlab.graphics.chart.primitive.histogram.html)?
I have. I can make a histogram no problem but I want to have a histogram-styled bar graph
I thought this was really interesting so I looked into it! I came up with two scenarios. First, the unnecessary variable is large and is assigned once. Second, the unnecessary variable is moderately sized but is written many times (calling ode45 in a loop). In the first scenario, using ~ could cut runtime in half (1sec to 0.5sec). In the second scenario, the runtimes were nearly equivalent. This makes sense. Anyone familiar with a compiled language knows that memory allocation is an expensive operation. Even more so for a scripting language. If it's a large variable and you never allocate the memory, that is helpful. If you only allocate the memory once but write to the same address many times, the ~ is less important.
Use your student license to complete [the MATLAB Cody Challenge](https://www.mathworks.com/matlabcentral/cody/groups/2); it's one of the best ways to learn MATLAB's ins and outs. Keep [the documentation](https://www.mathworks.com/help/) handy throughout. Maybe check out [this style guide](https://www.mathworks.com/matlabcentral/fileexchange/46056-matlab-style-guidelines-2-0) (which you can also [purchase on Amazon](https://www.amazon.com/Elements-Matlab-Style-Richard-Johnson/dp/0521732581)). Search for (computational) things that interest you in the documentation; you'll find there are a lot of built-ins and excellent examples. Best of luck!
It depends on how the authors coded the function. Upon a function call you can check nargout And you can even see in the example that some function subroutines will be ignored if the function is not expected to output those variables... https://www.mathworks.com/help/matlab/ref/nargout.html However, in the specific example you give I'm not sure if nargout is counted as 1 or 2 (someone should check and report back ;)
Happy cake day Mr Moderator!
You donâ€™t really describe in your question what isnâ€™t working for you in your approach, though I suspect you might get quicker results if you try a larger increment size. If you know some basic calculus (simple derivatives), take a look at the Newton-Rhapson method. Itâ€™s very good at finding the roots of functions, which I believe is what youâ€™re trying to accomplish.
It's still not clear what you want to do.
Yep, this helped me understanding the numerical derivation, thanks. However, the filtered derivation is still not understood for me :/
Cross validation can definitely be applied to TreeBagger using the [crossval](https://www.mathworks.com/help/stats/crossval.html) function. I'm now concluding that TreeBagger does not perform cross validation itself. Thanks for your help!
Cross validation can also be applied to TreeBagger using the [crossval](https://www.mathworks.com/help/stats/crossval.html) function. I'm now concluding that TreeBagger does not perform cross validation itself. Thanks for your help!
No worries, I am always happy to help:) Besides the task was interesting and I was bored haha Please occasionally check the answers you are getting, since it is a program and we all know that occasionally programs tend to develop "undocumented features":)
Fail to see how. Maybe itâ€™s just another approach, instead of psssibg parameter in the fit function? Then yes, it makes sense
No problem. In general, most straightforward questions like this can be answered by checking the documentation.
A good place to start is the (free) [MATLAB Onramp](https://matlabacademy.mathworks.com/) course, which is entirely done online through MATLAB Academy. From there you can do the MATLAB Cody Challenge (excellent advice from **angrmgmt00**) or (if your university has access) the online MATLAB Fundamentals course (also on MATLAB Academy).
Plotting doesn't need to be in a loop. Do your calculations first, then outside the loop, plot(t, V1, t, V2)
guessing here you want the counts of your discrete values on the y-axis, and assuming d is a column vector: First transform to categorical: d = categorical(d); And then simply make the histogram: histogram(d); Note: not sure which version of Matlab the categorical type got introduced - if you are on an earlier release simply looping through your data and counting instances will do the job as well
The dv3 and dv4 equations represent a matrix equation relating mass, stiffness of springs, and damping of dampeners.
MATLAB's imwrite is gonna be slow, this is not an area where it excels. I know you can import images with Simulink, but don't think you can write to disk with it (a *very* brief search confirms this). You probably want to go with a compiled language to do this really rapidly. I had this problem once with a high speed motion capture system I built. To get around it, I learned C/C++, C API's for my cameras, and ultimately used the boost library to capture images in a RAM ring buffer and write them really rapidly based on an external trigger. Could easily capture @ 250fps over USB3 and write 1000 frames of 2088x1044 bayered images in \~1-1.5 seconds.
Unfortunately this is for a school assignment - just wanted to see if any matlab pros here have an idea of how to make it faster :)
Would you mind a elaborating a little. What is a Chua circuit? Also what is a Lorenz attractor/ why would you use it for this circuit?
Maybe in a parfor loop? (Lazy answer)
Just start. Write something down, make a sketch, whatever. Youâ€˜ll get it eventually
What's not working? Is the code running perpetually? Is your code giving you an error?
Google shows that Chuaâ€™s circuit is the simplest known classic chaotic circuit. Basically it is a circuit that behaves in a way such that it doesnâ€™t follow a discernible pattern and changes non periodically. A Lorenz attractor is a system of differential equations that usually describes two dimensional fluid flow with a particular set of parameters, but in this case describes the state of Chuaâ€™s circuit as time passes.
You first convert your DE to an FD approximation by writing the derivatives as finite differences. Then you put them in matrix form and substitute in your BC/IC.
The gradient of a multivariable differentiable function is simply a vector whose components are the partial derivatives of said function.
Just thought Iâ€™d follow up, I ended up using this: https://au.mathworks.com/matlabcentral/fileexchange/6985-drawshadedrectangle Just coloured each plot as one goes along
Shared a link above that showed how I ended up doing it. Thanks for your time
Sweet, thanks! I ended up reading the wiki page on the chua circuit but was still a little confused. This definitely helped
If you can post the whole code it'll be helpful
This is what I was thinking too, just wanted to make sure I'm doing this right. So it really is just something like &amp;#x200B; gradmu = \[dmu/dt1, dmu/dt2\] &amp;#x200B; ?
posted! :)
Gradient vectors are just vectors.
The first function is empty. It doesn't do anything. Sz is an array containing the dimensions of 'data'. NaN will initialize an array of NaN values of the size specified. You don't typically need to declare variables in Matlab in the same way as other languages, but is considered good practice to do so. I don't really understand or rember your last question since I'm on mobile. Also, hitting F1 with a function selected will answer most of your questions.
function 1 is empty for now, but there has to be there as I develop it lol. Thank you for responding. Can you provide me with a random example of code that looks good? A link will suffice. Regardless, this code is what my professor gave us. But I'm sure my code looks worse than this xD
i got an exam in two days. question is: I got two values of x (obviously) but one value error how do I add another value for error that shows the first error as 100? i want error(1)=100 then the program can calculate rest of errors i have been trying but failed a lot!
Matlab won't let you create a variable called "dmu/dt1" or "dmu/dt2", because these have a "/" in the name. Also, using the function "mu" you set up, would look like "result = mu(argument)", not "result = mu(A(argument))".
You're going to need to be more detailed with your question if you want helpful answers. Maybe you want `diff`?
Yeah my bad. And yeah Iâ€™m 99% sure I have to use that one. Iâ€™m just having trouble with converting a bunch of points into an equation. This is all I really got as of now and the last command gave me an error because bounds donâ€™t meet so I wonder if Iâ€™m doing this the right way. Iâ€™ll take as much help as anyone can give me. x=input(â€˜what are your x values?â€™) (For example: -4:3) y=input(â€˜what are your y values?â€™) (For example [-27 -9 -3 0 -3 -9 -27]) c=polyfit(x,y,3);
I think you may not understand the problem statement. Generally, for this type of problem, you don't want to fit a polynomial because if all you have is data points, you can't know the function is a polynomial. You should evaluate deltaY/deltaX and plot at the midpoint between data points. You'll probably want the diff command for this. This is essentially using a local, linear approximation and is first order accurate.
Can you give a sample code of this?
If you're willing to try, I can give help. But I'm not interested in doing your homework for you.
Yeah ofc, Iâ€™ve just never used those commands before so Iâ€™m not sure how to use them and where to place them.
Matlab documentation is usually a good place to start: https://www.mathworks.com/help/matlab/ref/diff.html#description
Oh wow that is a lot simpler than what I was trying to do. Appreciate itðŸ‘
Without more information I can't really provide you with any code. My advice would just be to write it without a template. Sometimes the reason for having additional functions make sense once you've gone through the motions. Anyways I've probably already said too much since &gt; PhDs should not be teaching
Here is what i'm trying to acheive. https://imgur.com/a/VOmZiCy
^(Hi, I'm a bot for linking direct images of albums with only 1 image) **https://i.imgur.com/Esn7Jis.jpg** ^^[Source](https://github.com/AUTplayed/imguralbumbot) ^^| ^^[Why?](https://github.com/AUTplayed/imguralbumbot/blob/master/README.md) ^^| ^^[Creator](https://np.reddit.com/user/AUTplayed/) ^^| ^^[ignoreme](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=ignoreme&amp;message=ignoreme)^^| ^^[deletthis](https://np.reddit.com/message/compose/?to=imguralbumbot&amp;subject=delet%20this&amp;message=delet%20this%20emhk5z4)
The function you linked says it should do what you want. Are you calling the function correctly to do this, as described in the documentation? I'm not an electrical engineer by training so I don't know if your conventions are different, but in many contexts, negative dB gain doesn't mean nothing is passed, it means gain is less than 1. In fact, regardless of convention, a zero gain would be -inf dB, right?
The bode plots are normalised to 0dB at maximum
Hi. Thanks for the helpful reply! Hereâ€™s what Iâ€™m wanting to do/trying to figure out with this code. I need something called a measurement matrix. This measurement matrix, A, will look like [1 cos(t1) cos(t2); 0 sin(t1) sin(t2)]. The input values are t1 and t2 (theta 1 and theta 2 respectively). I then take this measurement matrix and calculate its coherence, denoted by mu. So I need mu(A) = max(max(abs(Aâ€™*A - eyes(3)))). My goal is to *minimize* the coherence of my measurement matrix A. Iâ€™m trying to do this with a gradient search type construction. Next Iâ€™m finding the gradient vector of mu. Iâ€™m doing this because the gradient points in the direction of greatest increase so Iâ€™ll just take the negative of it so now Iâ€™ll have the direction of the gradient that points towards the greatest decrease. But to find the gradient I need the partials, call them p1 and p2 (also since my initial variable names wonâ€™t work) but I also need two parameters, delta and lambda, so I just have them as input values. Now, the gradient vector, gradmu, will just look like [p1, p2] with each partial looking like p1 = ((mu(A(t1+delta, t2)))-(mu(A(t1, t2))))/delta p2= ((mu(A(t1, t2+delta)))-(mu(A(t1, t2))))/delta Youâ€™re probably wondering about that lambda term. In my notes I have two lines that say t1 = t1 - lambda*p1 t2 = t2 - lambda*p2 But Iâ€™m not entirely sure where to put these but I know theyâ€™re important and need to be used. I imagine Iâ€™ll maybe have a nested while Loop or two so that you have your initial matrix, and then for the varying theta values it calculates the coherence of A and then spits out the minimum of all the coherence calculations (which probably entails keeping track of all the results/iterations and taking the smallest of them), then calculates the partials and then spits out the negative of the gradient. This is what Iâ€™m not sure how to code up though but am trying.
If you read the documentation again and are still stuck, post your code and I can point out where you've goofed. There are examples there for each type of filter, including how to design with different filter orders. I could also point you to some good resources for learning the subject material, if need be.
Are x and y the same length? Read the polyfit documentation I'd say.
Sounds like you don't understand what a decibel is
Have you taken a look at the butterworth filter page? It describes how to get a band pass using their options. https://www.mathworks.com/help/signal/ref/butter.html
What kind of clustering? Where's your question?
Gain in dB = 20*log10(gain). Based off my experience with low pass filters, I remember the 3db frequency (corner frequency) is when the roll off begins and the gain is -3db. I guess I was under the impression that if something has -gain, it is being attenuated and therefore not passed. Thanks I am going to look deeper into it when i'm home.
MATLAB is actually very similar to C and C-based derivatives (such as C++). You can write and call functions, declare and assign variables, and even work with objects if you need them. One notable difference is the dynamic, weak typing (i.e. you can convert types easily, rather than having, for example, an int be an int until you cast it). Another notable difference is the large variety of built-in functions, which simplify the code writing process by removing the need to write these functions yourself. Fortunately, MathWorks provides ***stellar*** [documentation](https://www.mathworks.com/help/matlab/) for all functionality, including several of the functions you've asked about. 1. I have no idea why she wants you to use these exact two functions, but it seems that `project11` is meant to provide the final answer for a given data set, while `findGreedyPath` is meant to find an individual path, which may or may not be the minimum path. You should ask her what her intention was, since we can only guess. 2. See [the `size` documentation](https://www.mathworks.com/help/matlab/ref/size.html). 3. See [the `nan` documentation](https://www.mathworks.com/help/matlab/ref/nan.html). 4. Learn about [indexing in MATLAB](https://www.mathworks.com/company/newsletters/articles/matrix-indexing-in-matlab.html). 5. This is as simple as an application of [the midpoint formula](http://mathworld.wolfram.com/Midpoint.html), with care taken to ensure that even dimensions are handled properly (according to any convention defined in your assignment prompt or lecture notes). Odd widths/lengths/heights have centers at the [ceiling](http://mathworld.wolfram.com/CeilingFunction.html) ([there's a built-in!](https://www.mathworks.com/help/matlab/ref/ceil.html)) of the midpoint. This is because indices must be integer values.^\* (e.g. the midpoint of a 7-wide array is `ceil((0 + 7)/2)`, or 4) Best of luck to you. --- ^\* They can also be logical values, but that is not particularly useful to you in this context.
Wow. Thank you so much, I understand this better now. I started to develop some code after some sleep. Those links have cleared up much of my misunderstandings. Regarding the functions, the first one is meant to find the best path and the second is there to plot any path. Would you write your code under the second function and evaluate the paths there then return the best path to the first function, is this possible?
[https://www.researchgate.net/profile/Narendra\_Prajapati/post/can\_anybody\_provide\_me\_the\_source\_code\_of\_HEED\_TEEN\_APTEEN\_and\_EECHA\_in\_matlab/attachment/59d651ae79197b80779aa253/AS%3A508419591606272%401498228084893/download/HEED.m](https://www.researchgate.net/profile/Narendra_Prajapati/post/can_anybody_provide_me_the_source_code_of_HEED_TEEN_APTEEN_and_EECHA_in_matlab/attachment/59d651ae79197b80779aa253/AS%3A508419591606272%401498228084893/download/HEED.m) &amp;#x200B; Consider the source code for Hybrid Energy Efficient Distributed Clustering (HEED). I want to modify the code in Such a way (using same parameters as in HEED) that it should select cluster head by adapting mimo feature for intra cluster communication. if it is supposed to transmit large amount of data (video) it should select interface with higher bandwidth. if less amount of data (voice) needs to be transmitted it can have a larger range of selection. I want to use five interfaces with different properties, for example interfaces are named as (A,B,C,D,E) and these interfaces have different properties (data range, transmission range, energy consumption). E for example is the default interface. if no suitable interface is available data should be transmitted through E else it would look for best possible interface. Hope it clarifies now :)
Sleep fixes many, many things. Been there, done that, doing it again next Tuesday! Typically, the reason we use functional programming is to avoid writing the same code over and over again to do the same thing with slightly different inputs. In this case, by my best estimation (which could be completely wrong, since I'm not your professor) the top function is going to be the main function, which calls the second function as many times as needed until it finds the best path. It would then return this path in whatever format is specified by the prompt. Since you seem to only have two possible cases (east or west), it should only need to call the second function twice for a given set of data. Probably.
Good luck, I have finals all this upcoming week. 5 finals, I'm dying haha. &amp;#x200B; I see what you mean about the top function being the main one and only needing to call the second twice. &amp;#x200B; So the floor of my plot is row 1. I have to iterate it all the way through until reaching the ceiling. How can I create my for loop for this? I'm not sure how to code it for a matrice. say my data is 840x480, so its 840 rows by 480 columns. would it be something like "for 1:sz(1)" or is it "for 1:sz(2)".
&gt; would it be something like "for 1:sz(1)" or is it "for 1:sz(2)". Por quÃ© no los dos? (Why not both?) When I'm doing the dishes, I have to clean a muffin tin with 3 rows of 4 cups. I start on the first row of 4 cups, and clean each one, then I go to the next row and do the same thing, then the final row and do it one last time. Then I've cleaned all 12 cups. If I turned the tin 90 degrees, I'd have 4 rows of 3 cups... but I could still use the same basic process to clean it. Make sense? Best of luck on your finals!
Just to clarify, negative gain does mean attenuation, but it does not mean nothing is being passed. Any content at that frequency is attenuated by the amount shown in the Bode plot. This distinction can be very important depending on your application (e.g. a 160 dB sound attenuated by 3dB is still deafening). As to your original issue, I think you need to post your code to get anything useful out of this. 'butter' or 'designfilt' will do exactly what you want with the correct inputs.
You're going to use fminsearch. You'll need a minimal, functional form, of the equations. Maybe a sine curve?
MathWorks has pretty good documentation for MATLAB, so I would recommend starting by searching terms related to your query there: https://www.mathworks.com/help/ Assuming that you're just looking to save a matrix in your workspace, you can use the "save" function: https://www.mathworks.com/help/matlab/ref/save.html The documentation gives a description of the function, its syntax, and even gives examples for how to use it.
`n_neg = sum(d &lt; 0);` `if n_neg &gt; 0` `disp("shits going downnnn");` `end`
Thanks ðŸ™
any(d &lt; 0)
You're welcome.
I've nver heard of this exam. Can you share a link and what exactly is it for?
Does your uni not provide you with a MATLAB license? They should at least give you instructions on how to use the student discount if they expect you to use MATLAB.
Your university may already have a campus-wide license, wherein you don't need to buy your own license. I recommend checking with the school first, or simply Googling "MATLAB at X University"
If I'm correctly understanding your inputs and your goal, I would use a different approach. Specifically, I would calculate a lag correlations between the two curves. The "shift factor" would then be the last value with the highest correlation.
I am not currently a student though
For basic syntax, etc, you can start with Octave. Once you begin your course, you should be able to get a Matlab license for free or extremely cheap.
MATLAB Onramp is a free course. You don't need to be a student to take it. Do you have a student email address for the school yet?
No
Absolutely. It's a Certification for Matlab at the "Associate" level (there is also a more advanced called "Professional"). The exam is 50 multiple-choice question and pass or fail outcome. [https://www.mathworks.com/training-schedule/certifications/show/mathworks-certified-matlab-associate-exam](https://www.mathworks.com/training-schedule/certifications/show/mathworks-certified-matlab-associate-exam)
Use it and read the documentation. Best course there is.
This is pretty easily done via cross-correlation.
You can just go on the website and check what they want. Worst case you can probably email customer support and tell them the situation. Your school might have some other way you can access MATLAB too. Mine has a virtual desktop you can log into and use MATLAB and some other programs that way, but honestly $50 for a student license is less than the cost of most textbooks and itâ€™s much more convenient and faster to just run it on your own computer (and you donâ€™t have to worry about your files saving or anything). So far as I know the license lasts basically forever too. You donâ€™t get updates, but I donâ€™t think you need the latest update every time for schoolwork and stuff anyway.
Maybe implement some basic stuff like gauss quadrature etc. Look at code otherâ€˜s code and try to figure what it does (which is how I learned matlab) and use it as reference for yourself. Play with it and read the documentation. (:
For learning the basic functions Ocatave is virtually the same. I agree with this advice. Don't waste your money.
The MATLAB onramp stuff is pretty good for getting you up and running
https://matlabacademy.mathworks.com/
Yep. It was incredibly easy. If you're able to do basic matlab things and go through their course (which normally precedes the test), then you'll ace it.
Pass the theta\_dot signal through a "square" block from the math functions library. I can't remember the exact name of the block, could also be called Math Function or something and then you click on it and select square. Or you could get fancy and pass theta\_dot through both ports of a product (X) block and then pass the output of that into the gain.
Just need an email address ending in .edu that can act as your Mathworks contact email, I think.
It's the Math Function block, indeed. There you can select many functions, including the power one. If I'm not wrong, there's no "square" option, only u^v option. You'll need a constant input block for the "2", then input the theta_dot on the first door of the block (u) and the "2" on the second one (v).
I purchased my own license as a student for $100 and it was worth it. I still have access to the license 6 years later, it just doesnâ€™t update anymore.
Ahh I see, thank you very much!
This is a least squares problem.
not sure what level expertise you have, but matlab has an 'on ramp' course for basics: &amp;#x200B; [https://matlabacademy.mathworks.com/](https://matlabacademy.mathworks.com/)
Do you have to pay for the test?
Yeah.
You can also check online with your university email to see if you are eligible: [https://www.mathworks.com/academia/tah-support-program/eligibility.html](https://www.mathworks.com/academia/tah-support-program/eligibility.html) . If you are, you can be automatically associated and then can create/login to a MathWorks account, download and activate it.
Has doing the exam helped you in your career at all?
Not the first with these answers, please upvote others: 1) finddelay() - easy mode of you have signal processing toolbox. Uses cross correlation under the hood, use that if you want. 2) fminsearch() - Make an equation with minimal value if the answer is true. I.e. abs(original + x - new) or similar. IMHO one of the most powerful functions in MATLAB, but not newbie friendly. If you use it, start from one of the examples in the documentation
As with most certifications, no. There's no position that's got the words "Requires Matlab Associate's Certification." Be skilled in MatLab and that will help you. A piece of paper won't.
Start here: https://www.mathworks.com/help/matlab/ref/videowriter.writevideo.html#bus0tu7
try youtube.
Have you defined another function by the name of â€œyâ€ perhaps?
no, there is nothing else being called y in the entire project.
It looks like your kâ€™s and câ€™s are coefficients.. however you treat k3 as a function.. maybe put in an *? It doesnt really explain the error msg though..
k1, k2 and k3 are all scalars (10, 10 and 2 respectively)... &amp;#x200B; edit, same with the cs.
Yeah and in the above you wrote k3(y(1))=k3(0), which wont work, so thereâ€™s an error... but itâ€™s hard to assess without all the details tbh.. i could run your code for arbitrary ks and cs, after correcting to k3*y(1)
Projects. Perform as many interesting / pedagogical projects as possible. Exercises are helpful, but projects are superior
Matriculate
I changed those to \* and it still is giving me an error for not enough input arguments. I think I am giving a scalar at this point which is what it should be...
You could set up two different boards... 1 to show the player another to use in your code. Also why not use randi() for the random points?
Thank you so much. Our professor told us that we can only use commands we learned in class, so using randi() was out of the question.
Actually Iâ€™ve got one more question. We set up a â€˜ghostâ€™ array, which was essentially a border surrounding the main playing board. We did this to help with our code in checking surrounding mines, so in reality, a 10 by 10 board is actually a 12 by 12. We want to hide this border in the same way we want to hide the ones. Do you think we would be able to solve this problem using what you suggested as well?
Yes you can just translate all of the points in your actual board to not include the border when displaying to your users
I haven't used this particular tool but it sounds like a variation on the typical file diff operation used in various version control systems? If that's the case, binary files typically cannot be merged like text files. I've never seen that functionality.
FWIW, I've found similar behavior. They seem to automatically multi-thread on the "classic" numerical problems (FFTs, matrix multiply, etc.). I suspect it might afford some speed increase on large matrices, but for the moderately sized matrices I deal with, it doesn't seem to add much. I suspect the issue is mostly just overhead with passing the data back and forth between the processors. Usually, parfor will give me much better throughput than using their automatic multi-thread. &amp;#x200B; On the half core issue, I think MATLAB parallelizes on each **physical** core you have on your machine. Modern machines usually hyperthread, which means making two logical cores out of one physical one by essentially alternating instruction queues on the same processor. The 48 cores you are talking about is likely 24 physical cores with hyperthreading. However, for processes where a logical processor is unlikely to have downtime, hyperthreading doesn't give you any performance boost. Hence, why MATLAB doesn't use hyperthreading in parfor or its automatic multi-threading.
It looks like it should work to me. Can you also try `clear all` before running what your script? My only guess is that you may have overwritten the function `rand` with some other value that is not in the range of your axes. Then rand_x and rand_y would always be set to that value, and always be outside of the x and y limits that you have set with the `axis` command.
Hmm, yeah the overwriting rand problem seems possible, but I really just can't see where that would happen. Thank you for your response, I tested it and indeed the values of rand_x and rand_y are working properly, pts_in_circle is correctly adding, I'm stumped!
Actually I realized your problem after looking again. In plot, you are only plotting one point each time. This is fine, but by default there is no "marker" for the points. So if you change your plot command from 'b' to 'bo' (for a blue circle marker) then everything should work. The reason why no marker is used by default is because often people plot a bunch of points and just want the line connecting those points to be shown. You can check out the documentation for [plot](https://www.mathworks.com/help/matlab/ref/plot.html) to see more examples on this, and also the different marker options that are available.
my god that worked! thank you so much, such a simple thing! much appreciated.
Once again thank you, you saved my ass
Just noticed, that I forgot to mention, that I work in Simulink. The file diff should be a feature of Matlab according to their website
Sounds like y is a function.. try changing the name of y... As i said.. i could run your code without problems
In the example code you provide, you never call odefun, so it's hard to guess what's actually happening. Why not post the whole error trace?
 [https://www.researchgate.net/figure/Comparison-between-BEEM-Self-Concerned-and-Smart-BEEM-a-Number-of-sensors-still\_fig10\_318219089](https://www.researchgate.net/figure/Comparison-between-BEEM-Self-Concerned-and-Smart-BEEM-a-Number-of-sensors-still_fig10_318219089)
Probably by using `plot()`.
I think a `phantom()` function already exists.
You haven't linked to any individual figure
Yup. I mentioned it in the post. I'm having trouble using that function.
I am talking about figure 10 in the link
I mean, maybe I'm missing something, but have you tried: hold on
figure(); yyaxis left; semilogx(freq,raw,freq,filtered) yyaxis right; semilogx(freq,filter); Is this what youâ€™re looking for?
as u/Felixier said, you can use the `hold on` to have both on the same plot, then you need to adjust the axis, limits and so on. If you prefer something cleaner, you can use the [subplot](https://www.mathworks.com/help/matlab/ref/subplot.html) function to have both plots separated on the same figure.
The problem with the hold on is that the magnitudes differ too much, the filter ends up being above the magnitude plot. I made an edit to my post to give an example of what I'm trying to achieve.
Yes.
GUIDE or App Designer?
I am of the opinion that nntool does not actually help you learn about neural networks and you're better off ditching it as soon as possible.
You want to minimize with what algorithm... I don't see you quoting any... Anyway you should make a function using your objective function and in that function include your gradient... After that make the output to your objective function and your gradient... The output variable is the first and the gradient the second output... Matlab will recognize it in this format
Guide
When you say the stuff online is super out of date, what do you mean? Guide isn't new and afaik hasn't changed drastically. Have you tried something like [this](https://www.mathworks.com/matlabcentral/answers/96023-how-do-i-add-a-background-image-to-my-gui-or-figure-window)?
Nope I could seem to find that one, but I just got it! I think I was saving the image in the wrong spot on my computer! Thank you so much!!
Well, you're probably right, but that was homework. I managed to solve it, though. Thanks for the help! What would you recommend for learning neural networks?
Maybe readcell or xlsread functions? Try googling for Matlab documentation. It should be pretty simple and straightforward. I'd recommend getting the whole spreadsheet into a Matlab array, probably cells, and then doing the processing from there.
Okay, I know those functions exist and used them a lot when I took a course in matlab. I just donâ€™t know the extent formatting can go through matlab. I hate making vba macros though so thankfully these company computers have matlab buried in a random folder and an active membership. Hopefully I can begin working on something soon so if I need help I can have code to post.
I think you're sitting on the edge of a very deep rabbit hole haha! You'll need some clever logic and probably the strcmp function. If licencing is the problem, you can always use GNU Octave which is a free and open source m-script environment.
Oh no! Donâ€™t say that hahaha. I think licensing is fine, but the work is military too secret (not trying to sound cool, itâ€™s very boring work) so we use locked down computers. Thankfully they have matlab. We canâ€™t install anything so itâ€™ll have to be matlab or nothing. I think they have the eclipse ide but I havenâ€™t been able to find it and donâ€™t know if I have access to the folder itâ€™s installed to. Iâ€™ll see what I canâ€™t come up with when I have time. I just finished writing a task (what we refer to our jobs as) that was 700 of these area call outs long. I am so afraid of having some research done a week down the line and they find out that a new area has to be added directly in the middle and I end up having to change 400 area names. Itâ€™s so boring to do and I know/hope it is something that can be automated.
The way I would approach this is by making a code that reads the data to a format in matlab that you want for processing, then write them to delimited text files with the formatting you want using the fprintf command.
This is totally possible. Functions Readtable, writetable, regexp/regexpi, and sprintf will likely be your friends here. If I understand your task, I don't think it should be too hard. Many of these processes should be vectorized for your application, so it should be a pretty short script. I will caution that while this is possible in MATLAB, and will likely not be too hard, Python is (in general) better at working with strings.
Yay! Thank you for giving my hope. I will be back here once I get some work done on it. Yeah I was hoping theyâ€™d have python but no luck there. I feel bad not using matlab for math lol. Itâ€™s just an autoformatter to me right now.
sure sorry &amp;#x200B; `Error in Main20 (line 17)` `ode45(odefun,tspan,y0,t);` &amp;#x200B; this is the other part of the error. I am assuming it's due to the error in odefun
It depends entirely on what machine you're using. Also, based on the "half of CPUs" comment, I suspect that your machine has HyperThreading enabled and Matlab is using the number of physical, and not logical, cores. Many Matlab operations are natively parallel. Matrix multiply, for example, uses all cores. The fact that it uses 20 cores doesn't mean it's doing 20 times the CPU cycles--it splits the multiply problem across multiple cores and they each do a subset of the work. So instead of, say, 1 million operations on one core, you might have 100,000 operations each on twenty cores.
Seeing your example of what youâ€™re trying to achieve is literally what I commented already. If you have an old version of MATLAB you can use plotyy; then specify set(gca,â€™xscaleâ€™,â€™logâ€™); for logspace. Newer versions donâ€™t use plotyy anymore so you have to specify: yyaxis left; (Plot code); yyaxis right; (Plot code);
Try bwlabeln. Since the arms are not connected, this command will make identifying # of objects super easy.
Funnily enough a script I wrote a short time ago is able to count your edges very well, here's the snippet: &amp;#x200B; clear; clc; % Choose what to plot % 0: Houghlines % 1: Houghlines detection results do\_plot = 1; % Preparing image image = imread('maze.png'); gray\_image = rgb2gray(image); % Edge detection edges\_image = edge(gray\_image, 'canny'); % Houghlines \[H,T,R\] = hough(edges\_image); if do\_plot == 0 figure, imshow(H,\[\],'XData',T,'YData',R,'InitialMagnification','fit'); xlabel('\\theta'), ylabel('\\rho'); axis on, axis normal, hold on; end % Peaks in Hough transform P = houghpeaks(H,100,'threshold',ceil(0.3\*max(H(:)))); x = T(P(:,2)); y = R(P(:,1)); if do\_plot == 0 plot(x,y,'s','color','white'); end % Find and plot lines lines = houghlines(edges\_image,T,R,P,'FillGap',5,'MinLength',7); if do\_plot == 1 figure, imshow(image), hold on; end max\_len = 0; for k = 1:length(lines) xy = \[lines(k).point1; lines(k).point2\]; if do\_plot == 1 plot(xy(:,1),xy(:,2),'LineWidth',2,'Color','green'); plot(xy(1,1),xy(1,2),'x','LineWidth',2,'Color','yellow'); plot(xy(2,1),xy(2,2),'x','LineWidth',2,'Color','red'); end len = norm(lines(k).point1 - lines(k).point2); if len &gt; max\_len max\_len = len; xy\_long = xy; end end if do\_plot == 1 plot(xy\_long(:,1),xy\_long(:,2),'LineWidth',2,'Color','cyan'); end &amp;#x200B; Here's the result on your image: [https://imgur.com/pZjD1vg](https://imgur.com/pZjD1vg) The variable "lines" is a struct of the lines with their x and y coordinates, you should be able to distinguish long lines from the shorter ones and such, as well as remove falsely detected lines. In my case the length of this struct was 16, which is correct as there are 8 arms.
hold on;
Look up the function `plotyy`
I haven't done this at all so I can't give any advice, but Matlab has a uicontrol feature with a slider for plots outlined here. https://www.mathworks.com/help/control/ug/build-app-with-interactive-plot-updates.html
Could be `stairs`?
This might help: http://matlab.cheme.cmu.edu/2011/08/09/phase-portraits-of-a-system-of-odes/
You can install Python anywhere, without admin permissions. Or perhaps ask the IT department if they will let you install Python? I definitely agree that Python will work better for this, but then again I've never tried with MATLAB.
I can ask, Iâ€™m more familiar with matlab than python. The only work Iâ€™ve done with python was for a computational analysis class. I doubt theyâ€™ll let me though. Theyâ€™re very sensitive about this info. Every other company working on this stuff has had it stolen and sold. We are the only ones that have been able to keep it secret. Yay!
At my school we have a course where we have to do a project using Matlab. Some students have made minesweeper, concentration, and pong using GUIs. If GUIs arenâ€™t your thing, you can still do those games, but Iâ€™ve also seen a choose your own adventure game, solitaire, battle station, connect four, hangman, chess, checkers, and so many more I honestly canâ€™t remember them all. Hope that gives you some ideas. :)
I really like the choose your own adventure game idea! I was actually thinking about doing something similar to that... Now I just have to brainstorm some ideas of what type of game to make
Nice, definitely important to respect the privacy of your data. I work at a very IP sensitive company and we use Python for a lot of our data analysis. Best of luck with finding a solution :)
Ohh! I'm gonna make my own solitaire!!!
the latest winmerge does have a 3 way merge/diff.
Battleship against a smart computer player
I made the game â€˜snakeâ€™ - itâ€™s nice to play as a quick minute or two break during those long days of coding.
Thanks Ned, but I don't get it. According to "top" it's using 20 times the CPU time (and that's CPU time that non-Matlab other running processes are then not using), but it's computing the results only slightly faster (vs. when I use -singleCompThread). Maybe I'm misinterpreting the output from top, but it seems pretty wasteful in terms of resources and energy.
Pick a number that's likely to be near a zero of your function.
There isn't a general good guess for a nonlinear system's root It's very problem dependent
Yeah, â€œgenetic invadersâ€ a take on space invaders. I posted it here and on github a few months back
Hahaha that sounds dope, whatâ€™s the twist on it?
You could take a look at [Global Search](https://www.mathworks.com/help/gads/globalsearch.html)
It depends entirely on your program. If your program is designed to utilize multithreading you'll get a good bang for your buck. But Matlab can't automatically make your program perfectly parallel.
I don't think you understand bud... You could try a few iterations of fminsearch to see if you get reasonable improvement
It's highly problem dependent - what's the function you're trying to find a root of?
I'm very aware that, per the y-axis, the variations here are unnoticeably smallâ€”but why are they so pronounced and fluctuating? I'm basically taking some function `f` plotting `g = @(x) (f(x+15*eps)-f(x-15*eps))/(30*eps)` and getting this crazy business
What's the issue, you should be able to directly compare your scalar with numel in the form Numel( list ) == X
I did not elaborate enough my bad what I am trying to do is to make anew list from the numbers greater than the input number
For this you need to do it in a loop for each element of the list. e.g. `for i = 1 : numel (list)` `if list(i) &gt; X` `newList(end+1) = list(i);` `end` `end` &amp;#x200B; or if the list is a 2D matrix iterate the loop for both dimension.
Are you looking for a generalized solution? If there was one, it would already be in a function solver. However, if you have some more information about the function and what you expect, then you might be able to create some rules that work well for your specific solutions.
This can be simplified to `newList = list(list &gt; x)`, no loop necessary.
It has to do with some equilibrium constant equations and extent of reaction questions in a chemical engineering course Iâ€™m taking. I have multiple unknowns and I was suggested to use fsolve.
This seems very helpful, thank you.
Every time I select a new set of numbers the root results change drastically.
I have never heard of that until today, pretty new to MATLAB, will certainly look into that.
Just looked up logical indexing, thanks for opening my eyes to that. It definitely cuts down a few lines.
Have you verified that your function is behaving properly? Are you sure that it has a unique solution? There are generally no guarantees of this. Does the system you are modeling have some underlying physics that admits an estimate of the roots from principles, like conservation laws or boundedness?
Iâ€™d encourage you to use it whenever possible; it should also be much faster than your original approach. MATLAB excels with vectorized operations. When speed is important, find ways to avoid loops (logical indexing, cellfun/arrayfun, etc.).
Are you sure you're looking for roots and not minima?
i tried this however i do not get a complete list of the greater numbers this is my code myfile = input('choose file name and data and extension please for example a.txt, b.txt, c.txt, etc....','s'); mydata = load(myfile); fc = input('Enter compressive strength please '); jj = 1; if numel(mydata)&gt;=30 for ii=1:numel(mydata) if mydata(ii)&gt;=fc fc(jj) = mydata(ii); jj=jj+1; end end
Ah yes, matlab hangman - during my "formative years" I fondly remember making a crappy\* hangman game using a hardcoded dictionary of 30 DSP/FeedCon terminology, with silly irrelevant hints when you click a button &amp;#x200B; ^(\* crappy in retrospect but I legit felt like hackerman at the time) &amp;#x200B; [here's the starting menu background](https://i.imgur.com/abBZUP7.png) &amp;#x200B; [and here's a snippet of the hardcoded dicitonary](https://i.imgur.com/iKnjUs9.png)
 myfile = input('choose file name and data and extension please for example a.txt, b.txt, c.txt, etc....','s'); mydata = load(myfile); fc = input('Enter compressive strength please '); if numel(mydata)&gt;=30 newlist = logical(numel(mydata)&gt;=fc); s = std(newlist); this is what im trying to o but the list wont come out how im trying to get it idk what im doing worng
One reason might be that jj isn't defined before it's called in your for loop. Consider setting it to an initial value before the loop starts.
I forgot to include it in the code but it is as jj = 1;
You could make some coarse table for initial guesses based on temperature T and pressures P. That is, maybe make a 2D cell, each row corresponds to a given T and each column to a given P, and the i,j entry could be a vector of initial guesses for the equilibrium constants, sized by the number of reactions considered. Then for a given input T, P pair, perform 2D linear interpolation. If you do not have a source for a coarse table of values, consider linearizing the equations at conditions where linear behavior is more appropriate, solving those linearized equations analytically, and using those results as a guess for the nonlinear system. This is inherently risky and may not be fool-proof. As in, your nonlinear state may be far from a linear state, so you may diverge immediately. Resort to methods like this only if you cannot find tabled values of equilibrium constants.
You want the value to be bigger than fc(jj), right?
Yes
if date == May 7 &gt; Cake day end
Don't forget structfun!
clc; clear all; jj = 2; mydata = 2\*rand(1,10); fc(1) = 1; &amp;#x200B; for ii = 1:numel(mydata) if mydata(ii) &gt;= fc(jj-1) fc(jj) = mydata(ii); jj = jj+1; end end
I think my second lesson in matlab was to create a number guessing game where matlab selects a number between 1 and 20 and then the user tries to guess the number, with the program returning â€œtoo highâ€, â€œtoo lowâ€ or â€œcongrats you won!â€. Probably one of the simpler things to do though.
I made tic tac toe and the game 2048.
2048? In Matlab? That sounds pretty cool lol, you happen to have a download link?
no its not uploaded. I can upload it to github if you want.
Are you sure that your function declaration is function diff = inputy(y) Shouldnâ€™t it be function x = inputy(y) ? Also, unrelated to your problem, but you can replace the 4 lines Diff = zeros... ... End With just Diff = abs(y_test - y); (And the min function can give you the index, you can do something like [minimun, iqx] = min(diff) Instead of using find afterwards.
&gt;Are you sure that your function declaration is function diff = inputy(y) Yup, you are right, I was playing around at the moment so I didn't check it. Edited the code. &amp;#x200B; You are also right about the rest, I was in a hurry so I didn't try to simplify the code. I will try to use the method you mentioned to avoid using "find". Thank you for your help.
Did it fix your problem ? (I'm not sure if you were saying "I fixed the code on reddit bit still have a problem in simulink" or "I fixed the code in simulink, and this has solved my problem") Another way to do it in simulink (with less matlab code and more blocks), if all y_test values are ordered, would be to use a 1d lookup table with the "nearest" interpolation method.
Sounds like you need a [table](https://au.mathworks.com/help/matlab/matlab_prog/create-a-table.html).
Thank you! I'll look into it :D
It fixed the problem in finding the values for each "time step" in Simulink, so basically from the function I get the desired output. However, when I place this block in a feedback control loop in Simulink it is extremely unstable at the output.
try using surf, maybe with some transparence added. And you could also calculate their intersection and plot those as highlighted curves. Also you might wanna take a look at this function on the fileexchange: https://uk.mathworks.com/matlabcentral/fileexchange/32063-plotting-planes-and-their-intersection-in-3d
I think Ode45 decides its own time steps, so omitting it is maybe not what you want
How can I pass three separate surfaces to surf? I tried surf(x, y, [z_1,z_2,z_3]) to no avail.....
Hey guys.I want to transfer a numerous data from .mat file to .xls file. &amp;#x200B; dir2='C:\\Users\\Madhan\\Desktop\\New folder (2)\\'; %STARS exp2 = dir(strcat(dir2,'\*.mat')); %Ficheros de ECU test\_name2=[exp2.name](https://exp2.name); filename=test\_name2(1:end-4); expdata2 = importdata(strcat(dir2,test\_name2)); variables\_name = fieldnames(expdata2); &amp;#x200B; &amp;#x200B; &amp;#x200B; for i=1:size(variables\_name) eval(\['prov = expdata2.',variables\_name{i}\]); variables\_name2 = fieldnames(prov); variables=\[\]; for j=1:size(variables\_name2) prov2=\[\]; eval(\['prov2 = expdata2.',variables\_name{i},'.',variables\_name2{j}\]); dim=size(prov2); if (dim(2)&gt;1) prov2=prov2'; end &amp;#x200B; variables=\[variables prov2\]; end if(strfind(variables\_name{i},'INCA')&gt;0) xlswrite(filename,variables\_name2(1:155,:)','INCA\_1','A1'); xlswrite(filename,variables(:,1:155),'INCA\_1','A2'); xlswrite(filename,variables\_name2(156:311,:)','INCA\_2','A1'); xlswrite(filename,variables(:,156:311),'INCA\_2','A2'); &amp;#x200B; elseif(strfind(variables\_name{i},'HOR')&gt;0) xlswrite(filename,variables\_name2','HOR\_1','A1'); xlswrite(filename,variables,'HOR\_1','A2:K17300'); xlswrite(filename,variables(1:17299,:),'HOR\_1','A2'); elseif(strfind(variables\_name{i},'STARS')&gt;0) xlswrite(filename,variables\_name2','STARS\_1','A1'); xlswrite(filename,variables,'STARS\_1','A2:AP17300'); xlswrite(filename,variables(1:17299,:),'STARS\_1','A2'); elseif(strfind(variables\_name{i},'dSpace')&gt;0) xlswrite(filename,variables\_name2','dSpace\_1','A1'); xlswrite(filename,variables,'dSpace\_1','A2:T40000'); xlswrite(filename,variables(1:40000,:),'dSpace\_1','A2'); xlswrite(filename,variables\_name2','dSpace\_2','A1'); xlswrite(filename,variables,'dSpace\_2','A2:T41993'); xlswrite(filename,variables(40001:81994,:),'dSpace\_2','A2'); xlswrite(filename,variables\_name2','dSpace\_3','A1'); xlswrite(filename,variables,'dSpace\_3','A2:T40000'); xlswrite(filename,variables(80001:120000,:),'dSpace\_3','A2'); xlswrite(filename,variables\_name2','dSpace\_4','A1'); xlswrite(filename,variables,'dSpace\_4','A2:T46267'); xlswrite(filename,variables(120001:166268,:),'dSpace\_4','A2'); &amp;#x200B; &amp;#x200B; &amp;#x200B; else xlswrite(filename,variables\_name2',variables\_name{i},'A1'); xlswrite(filename,variables,variables\_name{i},'A2'); end end &amp;#x200B; &amp;#x200B; This is my code.The order of the variables of .mat file are not the same.Its 17881 x 1 ; 17885 x 1 ; 1 x 17995.I am getting an error saying "Dimensions of arrays being concatenated are not consistent.".Can somone help in solving
 clc; clear all; close all; [X, Y]=meshgrid(-10:0.2:10) Z1 = X + Y + 2; Z2 = X - Y + 2; Z3 = 2*X + 3*Y; figure(1) hold on grid on view(45, 45) h1 = surf(X,Y,Z1) h2 = surf(X,Y,Z2) h3 = surf(X,Y,Z3) alpha 0.2 shading interp hold off
Hey kids, this is a case study in how not to ask a question
IF you dont Know the answer,please dont comment in a question.Please learn some question manners.
Thanks. Does hold keep everything on the one figure?
Indeed
If you're visiting a new subreddit, please take a look at the community rules and sticky posts. Please learn some etiquette.
Being hostile, pushy, and scatter brained are 3 easy ways to make literally nobody want to help you. I'm not answering your question but im giving you tips on how to potentially get an answer in the future. I won't even charge, im that nice of a fella
And the matlab example does not work too openExample('arduino/ReadSerialDataFromAGPSShieldUsingArduinoHardwareExample')
i am extremely sorry for what i commented before.I am new to reddit.I am extremely sorry.
Serial.read() returns a byte
[https://www.mathworks.com/help/supportpkg/arduino/ref/read-serial-data-from-a-gps-shield-using-arduino-hardware.html](https://www.mathworks.com/help/supportpkg/arduino/ref/read-serial-data-from-a-gps-shield-using-arduino-hardware.html) see that the displays are fed with floats
\+1 While you can use eval() to make variables, [it's strongly discouraged](https://www.mathworks.com/help/matlab/matlab_prog/string-evaluation.html). Tables sound like the way to go.
Have you verified that the data loads on other computers? There is a chance you didn't save the data correctly. Try the "Import Data" button on the toolbar. That is often the best way to import data.
I don't think the academic license prohibits any importing of data. Make sure to check if the data is correct/not corrupted by trying to import it on another device.
The Data is generated via a complex (in house) tool. I imported it many times on the computer i generated it with. With the tool but also with simple matlab. Is there a possibility that the company tool limits the acces to the data?
Thanks. I will check again tomorrow.
For future reference, I would recommend following these suggestions: - https://en.wikipedia.org/wiki/Wikipedia:Reference_desk/How_to_ask_a_software_question - https://blogs.msmvps.com/jonskeet/2010/08/29/writing-the-perfect-question/ Also, give an informative title other than DEAR GOD HELP because people want to know what the topic is. Not a huge deal -- live and learn.
Itâ€™s almost certainly an error with the code or how you are importing things. The academic license is functionally identical to the standard license.
You're probably missing matching parentheses at the right place. Break it down one step at-a-time: B = mnrfit(xt,yt) phat = mnrval(B, yT) klass = max(phat, [], 2) Now you can combine it all as one statement: fun5 = @(xt,yt,yR) max(mnrval(mnrfit(xt,yt), yT), [], 2)
/r/amroamroamro has the right answer. The term you are looking for w.r.t. @ is "anonymous function".
Ah ok I thought to enclose the second function in parenthesis so that it would output a quantity/constant. On second thought that doesnâ€™t make sense. Thanks!
It might help to do something like this... fun5 = @(xt,yt,yT)... max(... mnrval(... mnrfit(xt,yt), yT... ), [], 2... )
Try splitting over multiple lines where you can use tabs to find out missing parentheses fun5 = @(xt,yt,yT)... max(... mnrval(... mnrfit(xt,yt), yT... ), [], 2... )
I have a couple of questions: 1. y(x==floor(x)) = 4 actually gives you a vector? It shouldn't since an array should only have positive integers 2. Do you want to have an amplitude of 4 at -10.5, -9.5, -8.5 ... 9.5 or a an amplitude of 4 at -10, -9 ... 10 ? Try this: x = -10.5:10; y = 4*ones(size(x)); stem(x,y) If you want it shifted, shift your x array...
As always, you need to decide what you want your code to do, then write the code, then make sure it's doing what you want. You do not have a discrete signal with a constant value of 4. Look at the value of y. What is it? What did you expect it to be? Why did you expect that? Where exactly did your expectations diverge from reality? Don't just peel back the first layer and then ask for help again. Try going all the way. Why doesn't y have the value you want? Because the steps you took to create it didn't do what you expected. Which step? Try them all, one by one. Look at the results. Tell me where your expectations differ from reality. Then figure out why.
Sure, but I guess to me it doesn't make sense to default to highly resource-wasteful multithreading. Why not default to -singleCompThread, especially on multiuser systems where the resource wasting affects others.
Without knowing anything about your program it's really difficult to determine whether it's Matlab's fault or your program's fault. If I tell Matlab to multiply two matrices that are 10000x10000, you bet it's going to multithread that, and it's going to be a heck of a lot faster. If your program is a naive `parfor` loop without properly slicing and making independent operations, then it's probably your program's fault that the overhead and memory copying going on is ruining performance.
https://closestnum20.com/2048-game-matlab/ Made this as an exercise to practice making GUI s. Let me know what you think!
Thats the example i used and failed
yes
This looks eerily similar to what happens when people approximate solution to differential equations using some finite difference scheme. With that said, why did you choose to use Symbolic Math? Seems overkill since conventional matrix algebra does the job just fine...
Please give me an idea or share an example code. Thanks a lot
Sure feels like a homework question even if you say otherwise. Anyway, what you really want to do is to bring up the documentation and read the section on Neural Network Toolbox (Deep Learning if you run a newer version). In the past 10 years or so, Matlab has changed up the toolbox that most tutorials/codes found on the net tends to call some obsolete function, causing errors and headaches. So the thing here is you want to check the documentation so that you're coding for YOUR version on Matlab.
Well, I have a system of equations like dy_k(t)/dt = C_k_1 * y_1(t) + C_k_2 * y_2(t) + ... with y_k(t) all unknown. If you could forward me to any kind of solution I would appreciate that. I was just using symbolic math for finite number of functions (defined each of them manually), and I liked how easy and ellegant it was.
if you are changing the set z, can you just have your x and y in the loop change depending on the loop interation? like this? afirst = 'A1:A'; bfirst = 'B1:B'; while datalenght &lt; 750 dat = fscanf(s,'%f'); if(~isempty(dat) &amp;&amp; isfloat(dat)) count = count + 1; data(count,:) = dat(:,1); datalenght = datalenght+1; FileName = 'PatternMatlab'; asecond = num2str(datalengtht); bsecond = num2str(datalengtht); A = strcat(afirst,asecond); B = strcat(bfirst,bsecond); x=xlsread(FileName,A); y=xlsread(FileName,B); end end
I tried to help but r2018a doesnt have nlmpc command. Sorry what version of matlab are you using? I can try to get a newer copy. What is the behavior you desire from the scope compared to what you are getting. from what I can see your formatting for your code looks right. All I can think of is you may have a typo in your differential equations or your nlmpc implementation maybe incorrect but its really hard to help since I dont really understand how the chemical reaction is supposed to work.
x and y changing following the iteration would be the best ! :) Sorry, I'm kind of new to Matlab, so I try to only use function I know about. But here if I understood your code (stop me if I'm wrong), you convert the datalenght into a character, then you concatenate to give the limit of x and y following the iteration... Ex : 2nd iteration -&gt; datalenght =1 -&gt; 1 becomes the character -&gt; 'A1:A' -&gt; 'A1:A1' (Then I need to make datalenght starts from 1 and not 0 but anyway). &amp;#x200B; Thanks for your reply, I will test it right now and tell if it works or not.
you dont need to change datalenght because I put it after your datalenght = datalenght+1; line. it should already work as is with the adjustments you want to make. but yes I just converted it to text and concatenated it so that you can just change the data you are pulling from the excel sheet. I think xlsread is no longer recommended however and there are newer faster commands such as readmatrix or readcell. https://www.mathworks.com/help/matlab/ref/xlsread.html gl and let me know if you need anything else.
&gt;diff(b(i)) = 0 always What happened to this part? Well, whatever. [https://www.mathworks.com/help/symbolic/solve-a-system-of-differential-equations.html](https://www.mathworks.com/help/symbolic/solve-a-system-of-differential-equations.html)
Hi again. I tried with datalenght=1 but it "surprisingly" didn't work until I figured out that changing datalenght was not need, I was going to edt my message but I saw that you already answered :D Anyway, I also tried to implement some graphic things, so my code looks like that now : `clear;` `clc;` &amp;#x200B; `if ~isempty(instrfind)` `fclose(instrfind);` `delete(instrfind);` `end` &amp;#x200B; `plotTitle = 'Serial Data Log'; % plot title` `xLabel = 'position X'; % x-axis label` `yLabel = 'position Y'; % y-axis label` `zLabel = 'intensity';` `plotGrid = 'on';` `delay = .0000001; %%Just giving time to Matlab to plot` &amp;#x200B; `serialPort = 'COM4';` `data = zeros(3,1);` `count = 0;` `datalenght=0;` `afirst = 'A1:A';` `bfirst = 'B1:B';` &amp;#x200B; `title(plotTitle,'FontSize',25);` `xlabel(xLabel,'FontSize',15);` `ylabel(yLabel,'FontSize',15);` `zlabel(zLabel,'FontSize',15);` `grid(plotGrid);` &amp;#x200B; `s = serial(serialPort, 'BaudRate', 9600);` `fopen(s);` &amp;#x200B; `while datalenght &lt; 750` `dat = fscanf(s,'%f');` `if(~isempty(dat) &amp;&amp; isfloat(dat))` `count = count + 1;` `data(count,:) = dat(:,1);` `datalenght = datalenght+1;` `FileName = 'PatternMatlab';` `asecond = num2str(datalenght);` `bsecond = num2str(datalenght);` `A = strcat(afirst,asecond);` `B = strcat(bfirst,bsecond);` `x=xlsread(FileName,A);` `y=xlsread(FileName,B);` `z=data(:,1);` `set(plot3(x,y,z,'o'),'XData',x,'YData',y,'ZData',z);` `pause(delay);` `end` `end` &amp;#x200B; `figure('Position', [9 39 900 600], 'NumberTitle', 'off', 'Name', 'Position');` `hold on;` `xlabel('Poistionx');` `ylabel('Positiony');` `legend('X', 'Y', 'Z');` `hold off;` But the error message sent back is 'Excel worksheet could not be activated". Don't understand why, it was working well 2 minutes before. Anyway, just by looking at the workspace, I can see that x, y and z all have the same lenght, so I'm good with that. The only thing bothering me is the plotting in itself as I can't find good example of real-time 3D plotting. If you see anything that may be upgraded, I'm in 100% ! Still, many thanks for everything ! :)
This looks so nice!
Wow. What is this a graph of specifically? What are we looking at here? Good job
I have not tried doing this, but I think you can scale the matrix down to values of \[-1, 1\] by finding the largest absolute value within E. I would use: `m=max(abs(E(:)));` The result of that is your extreme, so 1 or -1 depending on the sign. To find the scale to decrease the matrix by divide 1 by the extreme: `scale=1/m;` And then multiply the matrix term by term to get the adjusted E (`adjE`) which will fit into the requirement of the phantom function: `adjE=E.*scale` Then use the `adjE` in the phantom function instead of E. Note: please don't forget to account for the scaling in your size of the image argument
Think you can get a trial version in their website. They also have plenty og good guides to get you going.
456?
You could also try https://www.gnu.org/software/octave/
I'm sorry, but I've just must been mistakenly understood. I am not looking for Matlab Neural Network Toolbox or anything related to Deep Learning in Matlab. I have these files and I need to know them better and work with them. They have no problem running, I just need some explanations and fixes. Thanks
Excellent work
The point is that I'm not using parfor. Matlab is doing some sort of automatic multithreading (unless I explicitly use the option -singleCompThread), , and at least in my case, its wasting very large amounts of CPU time and energy (like 2000%!).
What?
Ok. I think we'd have to see some specific cases/examples in order to help diagnose why the parallelization is slowing things down so much.
Not gonna lie, after that first split I expected it to draw a dick
The smaller graph is a plot of the self-mapping logistic function: x_(n+1) = r * x_n * (1 â€“ x_n). If x_0 is in [0,1], all x_n will be in [0,1]. If a nontrivial value for x_0 is selected, then as r is increased beyond r=3, the logistic function will no longer tend to a single value (the fixed point you see in the smaller plot until r = 3), but will instead oscillate between 2 values, then 4, then 8, and so onâ€”this is what is meant by the name "period-doubling bifurcation." The larger plot is an r-dependent locus of the dark points you see in the smaller plot. You can think of these points as values approached asymptotically by x for each value of r
If you need it for work your job should provide it for free to you. Otherwise, if you generally need to to programming-based data analysis, I would recommend python as an open-source alternative. Python is actually replacing matlab in many places, and migrating my work from matlab to python is currently on my to-do list since python has taken over my lab. I would recommend downloading spyder as an interface similar to Matlab's for programming in Python. If you download the packages "pandas", "scipy", "matplotlib" and others I don't know about, you will achieve the similar or even superior functionality to matlab.
check the docs
So cool!
the delay you have is .1 microseconds you may want to increase that if waiting for the matlab plot is needed. instead of using xlsread which will slow down the loop time is it possible to import it / load it as a matrice and read the values from their? I feel like that should help some of the problems. also why are you using set? does it not work if you just use plot3?
Not sure the specifics of what youâ€™re trying to do, but you can use the colon to help you get specific rows or columns, ie a(1:2:7,:) will give you the odd numbered rows, or a(:,2:3:10) will give you every third Column starting at the second, and then you can use sum as normal. Sorry if this doesnâ€™t actually address your question!
Actually ended up using â€˜setdiff()â€™ so I wouldnâ€™t have to hardcode each row/col number to be eliminated. Thanks tho!
Thanks. I tried this already. Problem is it only scales it down to [0, 1] instead of [-1, 1]. Getting the negative part is what I'm unable to do.
Hi all, thanks in advance for your help. I seem to be vaugely on the cusp of figuring this out but can't seem to get it. &amp;#x200B; I have the contour plot above, where each X,Y,Z from contourf(X,Y,Z) is a 61x33 double. I have a series of these plots (or the data to produce a series of these plots) and in each the X and Y are the same, and the Z varies. For reference it's a contour plot of efficiency on axes of flow coefficient against stage loading. &amp;#x200B; On each plot I need to extract the 'level' (Z) at a given X and Y (the information on the data-point in the image). I'm sure I can somehow re-grid or interpolate the 61x33 doubles (phi\_interp, psi\_interp and etaZ) but I'm having a little trouble figuring it out. &amp;#x200B; Apologies if there was a much better way to show all the information than a picture; thanks for any help or guidance.
Thank you so much :) did this without the help of any toolboxes ;)
Um, Python is not a replacement for Matlab. They have different strengths and are used for different things
Ok Iâ€™ll re-qualify. Python can replace matlab in many domains of data analysis. OP may find that python equally suits their needs.
Thatâ€™s not what Iâ€™m saying, Iâ€™m saying that python can replace matlab for data analysis
I haven't tested whether this approach works for your specific use case, but you can create an array of symbolic functions via the "symfun" function: https://www.mathworks.com/help/symbolic/symfun.html For example, syms x I = 1:3; for i = 1:length(I) functionFormula = ['f' num2str(i) '(x)']; Y(i) = symfun(functionFormula, x); end After that, you can probable set up your problem by doing something similar to the examples in the reference that /u/spicy_jalapeno posted: https://www.mathworks.com/help/symbolic/solve-a-single-differential-equation.html If you're okay with a numerical solution, you can also use one of the traditional solvers such as "ode45": https://www.mathworks.com/help/matlab/ref/ode45.html
A) Your supervisor is dumb. B) How would you do it if you were programming it in python?
Ok, I put the delay to 10ms just to be sure, but regarding xlsread, I looked into Mathworks to see if there was better function and I found readcell and readmatrix, but as I have Matlab 2018a, I can't use these function (I got the error "undefined function or variable". &amp;#x200B; Anyway, when I use plot3, delay at 10ms, I still got on error. I can't get past the 2nd iteration because "vectors are not the same lenght". So I looked into the workspace and saw that x =2x1, y=2x1 but z=3x1... x and y are good &lt;=&gt; they have the expected value, z got 2 expected value (corresponding with what I'm measuring), but the third value (that should not exist in the first place) is a 0. The error is taking place at the `plot3` function. So it means that there is a fail in the transition between `data` and `dat.` I'm putting the while loop I'm currently using in order for you to not goes up and down the discussion just to see if ther's something missing in the code. `while datalenght &lt; 750` `dat = fscanf(s,'%f');` `if(~isempty(dat) &amp;&amp; isfloat(dat))` `count = count + 1;` `datalenght = datalenght+1;` `data(count,:) = dat(:,1);` `FileName = 'PatternMatlab.xlsx';` `asecond = num2str(datalenght);` `bsecond = num2str(datalenght);` `A = strcat(afirst,asecond);` `B = strcat(bfirst,bsecond);` `x=readmatrix(FileName,A);` `y=xlsread(FileName,B);` `z=data(:,1);` `plot3(x,y,z,'o');` `pause(delay);` `end` `end` `%% Thanks for your reply ;)`
Thank you for reaching out and helping. Sending you kudos.
While it's not OpenCV, if you have the Computer Vision System Toolbox, it shoudld work if you use VideoFileReader https://www.mathworks.com/help/vision/ref/vision.videofilereader-system-object.html
It looks like imread only support jpeg for codegen. Can you convert your images from bmp to jpeg?
Disagree with A. Sometimes learning how to code your own RK4 or use ode45 is beneficial in the long run. As for OC I would recommend looking up how to use ode45. If you ever want to get fancy and use some fixed step integrators you can try Runge-Kutta4 or RK4 for short.
Through an arduino specifically? You could do the measurement in the arduino and then set up a serial communication using the a usb serial adapter and the matlab SERIAL command
glad you fixed it!
Thank you very much, it really lets me to set a system of equations with dependance on t. But could you also help me how to set the border conditions, like Y(i)(x = 0) == 0?
It seems to me that you created a separate matrix with absolute values only and then use it later in the scaling stage. I attached a screenshot as an example of my matrix with mixed values and seems to be working. [https://prntscr.com/nmajr2](https://prntscr.com/nmajr2)
Very well. I'll go through this and let you know if it works for me.
I dont fully understand the problem, but this sounds relatively simple to use Simulink for. This sounds like a general numerical methods problem, perhaps the easiest way is using a FOR loop and the Euler Method. Matlab is similiar to other languages like C++ and python and they have a great reference tool. Just search something in the "help" box in the top right of the window and youll get examples and function definitions.
I am user of python too. I tried python programming for my project. Yes, It is more versatile. I thought Matlab could be easiest way to achieve what I want. Thanks for your suggestion.
Thank you sir
Okay, I fixed it. For the generations to come: axis 'equal'; xlim = ([xmin xmax]); ylim = ([ymin ymax]); ran into some more substantial problems along the way, but reached the stage of plotting again.
Moveing sound source or moving sound wave? Do you know how to simulate wave propagation? Because it is not that easy to simulate wave reflection from the obstacle. Simulink is not good for this task. You could use kwave toolbox it is free and allows simulating sound waves. It is quite easy to use and has lots of examples.
Avoid for-loops altogether in this type of circumstance. What you want is logical indexing. First off, is your "ID" an integer, or a string? Integer-based operations are obviously going to be much faster. Let's say your selection set of IDs is [24531, 8414, 3414, 9837195, ...]. Then you'd do the following: &gt;&gt; IDs = [24531; 8414; 3414; 9837195; ...]; % some array with unique IDs &gt;&gt; selection = ismember(A.ID, IDs); % create logical array of trues and falses &gt;&gt; output = A(selection,:); You can do it in one line, but this is a little bit easier to read.
Most simulations are structured in the following way: 1. Setup initial variables/states 2. Run outer execution loop. Each iteration corresponds to a single step in discrete time 3. Each timestep, update variables/states based on your model and record what you need to. Matlab will probably be faster in general, but the reason Simulink is so powerful is that you can add a lot of complexity with very little development cost.
Hey, just a reddit suggestion. If you indent each line with 4 spaces, you'll get a contiguous segment of code. For example: x = 3; y = 4; z = 1; Contrast this with putting tics around each line, which looks like this: `x = 3;` `y = 4;` `z = 1;` The former is must easier to read.
It seems, that you are using only one image `imgStitchBlend`, so there are no left and right images to mix (I guess you meant the left and right part of the image, but that isn't what you want). You want the actual right and left images with some overlapping at the seam. Let's say you have a 101 pixel wide overlap, so 50 pixels to the left and right from the seam, then you should mix the two images on this 101 pixel wide range. Alpha should be 0 at 50 pixels to the left, and 1 at 50 pixels to the right, and at the seam it should be 1/2, something like this pseudo code: `newImage = (1-alpha) * imageLeft + alpha * imageRight` Be careful, the left and right images should be indexed properly, so that the columns with the 'same content' is mixed, not the columns with the same indices.
Check out Gaussian Pyramids, they're basically perfect for this manipulation, but they'll require some preprocessing
I have to use bmp images, not jpeg How would I use coder.ceval to call an OpenCV function within Matlab?
It looks like you're blending the image with itself, shifted by one column? Why?
Here's an example: https://www.mathworks.com/help/coder/ref/coder.ceval.html#br49spw-7 Instead of foo you would give it the OpenCV function you want
Thanks for the reply - wound up getting it working with ismember instead. Thought an indexing approach would be better but still just needing to learn my way around what functions are available!
Both versions do use `ismember` and are virtually identical--mine just has an extra line of code for readability. Note that doing this: &gt;&gt; loc = ismember(A{:,1},B); &gt;&gt; output = A(loc,:); is the same as: &gt;&gt; output = A(ismember(A{:,1},B),:); The latter just substitutes the first line into the second; the former is just easier to read.
It's a homework learning activity. There isn't always a good reason why things are done other than to introduce a new concept to the student.
If you have access to SAS this sort of problem may be more straightforward (though is SAS, the hard part is getting your data read-in in the first place). &amp;#x200B; The SAS output automatically includes p-values for all the coefficients so you can see which ones are statistically significant from there.
I think it's less a question of "how much does Matlab care," and more of "how many (millions) of times do you need to perform this operation?" You can easily see the execution time using the "tic" and "toc" commands. My guess is that the difference will be marginal for this 13x13 matrix. Even your memory use won't be reduced by very much. If it takes you 60 minutes to write the version with the banded matrix, how many times will you need to run the program to earn that time back?
Check out [how the backslash operator works](https://www.mathworks.com/help/matlab/ref/mldivide.html#bt4jslc-6). You should be fine with your current matrix, since the folks at MathWorks are pretty darn smart; they've already optimized the operator to take maximum advantage of structure so that you don't have to worry about it. :)
I was leaning towards that. I guess I'm always paranoid that I'll run into a some ill-conditioned matrix that will require some serious cleverness on my part. EDIT: The matrix is almost lower Hessenberg, it just has one too many diagonals. Surely matlab won't care too much.
A good general approach is to assume Matlab is faster than you until proven otherwise. My advice is to leave A as-is, but test its speed either with tic toc, or with the profiler. If you then find that solving x=A\\b is slow, that's when you can look into improving efficiency. (Although Matlab's matrix solving is its core strength, so it's unlikely to be an issue) There are some exceptions, and in general you may find certain things that are always worthwhile (like initializing variables before loops), but often it is a surprise when you learn what the slowest part of your program is. As such, it's rarely worth trying to optimize before you know what is worth optimizing.
This is the answer. You're going to need to do a LOT of operations before you break even on the time you spent doing the Algebra reductions by hand. Fortunately, computers are fast enough that you could do that Algebra by hand for fun and still run your Matlab code and probably have all of your answers for tomorrow (even if you're doing 10s of thousands of operations).
It's not slowing it down. It's about 5% faster, but it uses 20 times the CPU resources! Anyway, I guess I can just use the -singleCompThread flag.
I was looking for this quote earlier, and only just found it: ["Premature optimization is the root of all evil"](http://wiki.c2.com/?PrematureOptimization) You can never know where your code will bottleneck or break until you actually run and analyze it. If you try to address every possible optimization and edge-case ahead of time, the code will never see the light of day. When you reach a point where you're using this thing daily on thousands of data points, or everyone in your group/organization relies on this function, that's when you code up the GPU accelerated, Fortan-CUDA, optimized code.
Just make a new callback / button to overlay a new figure on top of UI figure and print that. Get the Position of current UIFigure/axes, and make a new Figure in the same spot. Scrape the data from UIFigure or just re-plot it in the new figure if you have it somewhere like app.data. Then call print on the figure.
I usually use print(figHandle,â€œfName.pngâ€, â€˜-dpngâ€™, â€™-r0â€™) for hi-res.
No that's not the point. I don't think you read the question, or maybe you don't know anything about image stitching.
Maybe should stop looking for the deeper meaning of things (considering the post is tagged "HomeworkQuestion").
 Look up the documentation for imwrite(). Maybe that could help
**For loop** for i=1:j do something end &amp;#x200B; **While loop** while i &lt; j i=i+1; do something end Adjust the indexing to fit your code.
I tried to but cant get it to work. It saids index exedes values of array
And that is why I said to adjust your indexing. Matlab will tell you which line is causing you trouble, just troubleshoot according to the error message.
Matlab is telling me that dt is causing the error
Look at the code he posted. It does not do what his post says.
Mat lab is telling me that dt is causing an error.
How large are you letting `n` get? Are you letting it get at large as `Time` is long?
n needs to be as big as the file
The file is around 25 rows.
What do you need the result of the Gaussian elimination for? Most likely, Matlab has a built-in function, such as the "\\" operator, that will accomplish this task far more efficiently.
I need to input a matrix so I get a 6th,a 7th and a 8th grade equation
When n = length(Time) and you call Time(n+1) what will happen?
Dont worry. I was able to fix it. Thanks for the help thoe.
I have done the exactly same thing using scripts from file exchange (can't recall the file name atm, but it is the most popular script on that site)
I have done similar problem on 100000 by 42 matrix where the numbers were complex IQ signal data. It was pretty fast. You can leave it as is.
I'll ask the dumb question. Have you tried the simple analysis tools? A correlation matrix might show you what you want without having to mess around with neural nets.. As for importing a CSV, look at https://www.mathworks.com/help/matlab/ref/readmatrix.html
Hello, fellow student!:) I would use `readtable(filename)` function to import the .csv file. As a warning, I have experienced complicated relationship of matlab with the tables during data analysis, so I would then convert the table to array using `table2array` function. I hope this helps.
You should probably provide some more info
Sir I have attached pdf.
Can't see it
I can't attach pdf file. I am new to reddit
Hello! Csvread('filename') is the simplest way to read the file in, but look at the documentation for that function if you need a specific subset of yout csb file.
Thank you for responding! So I was able to import the CSV file into Matlab, but I can't seem to figure out how to perform a simple analysis. I keep clicking around, but I don't think I'm doing it right. Am I way over my head? Super sorry for being a total noob! I completely understand if this is too much for a first timer.
Hello, fellow student! I used your instructions and can confirm I have the file in my workspace. However, now I don't know what to do! I keep searching the webz, but I can't seem to find anything close. Is Matlab not able to find correlations on its own? Or is the learning curve to figure that out way above my capacity grade? I may just end up going back to SPSS, but I'm not ready to give up. Matlab looks so promising!
look at the matlab function "corr" it might be of use to you. But also note that if you find a correlation, you need to redo the experiment only investigating that variable to "prove" it, since measuring a lot variables can result in random fluctuations showing apparent correlation between some of the variables.
Outsourcing people to do your homework?
No its homework. Its my project. I just need suggestions as i am new to matlb
To be honest, I am not very experienced with the Machine learning or similar systems for finding correlations. Using Matlab Deep Learning toolbox you can definitely create an algorithm that learns from your data. It should be able to provide you with the most likely answer that a participant would give to a question based on the input of his/her characteristics. However, I am struggling to see a method to extract the logic yielding the most likely answer out of the machine (I can explain this sentence using an example, if you wish). And I feel like this logic is what you are after, when you are trying to find the dependencies. This is an interesting project though, please let me know about your progress and best of luck!:)
I think the "stats" output in "[glmfit](https://www.mathworks.com/help/stats/glmfit.html)" has p-values. No need for SAS here. &amp;#x200B; Moreover, it appears that there is a [Generalized Linear Model](https://www.mathworks.com/help/stats/generalizedlinearmodel-class.html) class that has a property "ModelCriterion" which gives the "AIC" directly. It seems OP will just have to use "fitglm" instead of "glmfit" to construct this class.
See my other response in the thread. &amp;#x200B; Also, however, consider the [step](https://www.mathworks.com/help/stats/generalizedlinearmodel.step.html#btbshbv_sep_shared-mdl) function with the GeneralizedLinearModel to get a better set of predictors.
Worrying about matrix structure and algorithmic efficiency is the kind of thing you do when N is large, like 10^4 or bigger. For a matrix that small, there won't be a lot of benefit. Turning a 4 millisecond operation into a 3 millisecond operation isn't a significant gain in most situations.
Canâ€™t see the pdf
No, you haven't.
I used a textbook called "MATLAB for Engineers" and it was really good at laying out syntax, ways to improve code efficiency and even more complex matrix manipulation towards the end of the book. I use it anytime i need to use matlab &amp;#x200B; Edit: just googled. Author is Holly Moore and costs like $7 on ebay
The Matlab documentation.
Thank you. I will surely check that book.
I have a book but I honestly just go on Mathworks and look for what I need there
If the course is into to matlab you should be okay! Just be prepared to Google a lot. Don't feel bad for googling stuff.
Would practicing over the summer help me? Thatâ€™s comforting to know. Thanks!
If it's an intro course, everything you need should be taught directly in the class. You could email the professor and ask what level of Matlab background would be helpful to have coming into the course.
It would be really good to know C/C++ before matlab but it depends on you how hard will you work over the summer tho. Not impossible but very hard.
The documentation is all you need imo
I'm just about to finish up a semester of MATLAB and we used the following book in our class: MATLAB A Practical Introduction to Programming and Problem Solving Fifth Edition by Stormy Attaway It has a great sense of progression and is split up into 2 parts, part 1 is the introduction to programming with MATLAB and part 2 covers some more advanced topics.
I have the same book. It was a good starter for me, and I now lend it out to new students in our group to help them get up to speed.
It is export\_fig. It worked.
I couldn't exactly figure out how to do what you had suggested. But export\_fig saved the day.
I will surely check that book. Thank you.
Obviously it depends on what you will be using it for, but Matlab for neuroscientists was super helpful for me
If all goes well, I might use Matlab for machine learning purposes.
Yeah for sure! Practice is good. Some tutorials can be found online. Or you can take a look at Project Euler!
Agreed. It was a decent book to get me started in a short space of time, but I've been using the official MATLAB documentation ever since just because of how thorough and intuitive it is.
Is this your first time using Matlab? There are things that you can do by clicking around, but generally speaking, you'll need to script it. Something like `corrcoef` will work out correlation corefficients for you, so would start you down the right path. See: https://www.mathworks.com/help/matlab/ref/corrcoef.html If you've never used Matlab before, it might be worth spending some time with the tutorials: https://uk.mathworks.com/help/matlab/getting-started-with-matlab.html
Please don't do this. Matlab is an extremely weak option for machine learning. You should learn python instead.
Thank you for the advice.
Agreed partially. Where fit example has the documentation been wrong?
For example the `save` function documentation says this: &gt; save(filename,variables,'-append')adds new variables to an existing file. **If a variable already exists in a MAT-file, then saveoverwrites it with the value in the workspace.** The bold portion is wrong. It doesn't overwrite the existing variable, it adds it to the file and hides they old version. This causes the file to grow every time you use `-append`. This has been known for [at least 5 years](https://www.mathworks.com/matlabcentral/answers/129794-why-does-save-append-work-so-slow-and-increase-the-size-of-mat-file-for-simple-replacement), but Matlab has not fixed the bug nor updated the documentation. It took me hours to figure out why our data files were 100 times bigger than they should be because it took me a while to consider that such a fundamental function could have such a basic flaw.
If I understand you correctly, you want to plot asymptotes inside the already existing axes (one for the amplitude and one for the phase plot) ) generated by the bode function. &amp;#x200B; Here is how you can do it: fig = figure(); bode(1, [1, 1]); bp = fig.Children(2:3); phsPlot = bp(1); ampPlot = bp(2); phsPlot.NextPlot = 'add'; ampPlot.NextPlot = 'add'; w = logspace(-2,2); semilogx(ampPlot, w, 20*log10(1./w), 'k--') The calculation of the asymptotes is not Matlab related, so I can't help you with that.
Thank you very much but I have trouble using it with my bode code (not very good at matlab). H=tf([1 -19/2 17/2],[1 -40 238 -1156]); bode(H); I need to add asymptotes to this somehow.
Practice makes perfect, practice as much as you can and you'll get more out of every coding experience. MatLab is known for it's excellent documentation, and in general someone before you has run into the problems you will encounter, so keep googling til you find what you're looking for, or ask on here. Matlab is super cool and you can do a ton of cool stuff really quickly once you get grip on the environment and language.
Can you provide your code used to calculate the gradient and plot it? You might have seen this already, but MATLABâ€™s [gradient documentation ](https://www.mathworks.com/help/matlab/ref/gradient.html) has an example of how to calculate and plot the gradient with quiver.
hi=10\^-8; fx = springobjw4(alpha,xq,sq,ktarget,frtarget,w); % Perturbated objective function values: fx1plush = springobjw4(alpha,\[xq(1)+hi, xq(2)\],sq,ktarget,frtarget,w); fx2plush = springobjw4(alpha,\[xq(1), xq(2)+hi\],sq,ktarget,frtarget,w); % Objective function derivatives: dfdx1 = (fx1plush - fx)/hi; dfdx2 = (fx2plush - fx)/hi; quiver(xq(1),xq(2),dfdx1/10\^7,dfdx2/10\^7) %10\^7 is for scaling
You could try axis equal
Hmm, I wonder if dfdx1 and dfdx2 are the right size of arrays. Since â€œspringobjw4â€ outputs a 2 element array, that could be messing things up in the quiver plot. Try: quiver(xq(1),xq(2),dfdx1(1),dfdx2(2))
If you're producing the plot, don't you have all that data saved into an array already? Just use the inputed x and y values to access the corresponding element of the color data
How about this? imagesc(data); [x y] = ginput; amplitude = data(x,y);
what is data here? the vector of amplitudes?
'data' is whatever data you used to make the plot you showed. Without your actual code, it's hard to know what the format was. In my snippet, 'data' would be some 2-dimensional matrix
All inputs and outputs in an sfunction are arrays, even if they are of size 1. You need to dereference them before trying to display them. Try doing that to see if it works.
Thanks, that resolved some of the error. Now I'm getting these: [New Error](https://pastebin.com/fcE5iVKy) I also updated my post above.
The compiler says that your class functions were undefined, hence you need to include the lcd.cpp in the libraries or under model config options.
Thanks a lot this is very helpful!!!
When you say that you want to â€œsegment two tones in a grayscale ultrasound imageâ€ are you saying that you want to extract/image the contours of two grayscale values? I just want to make sure that you donâ€™t mean two ultrasound frequencies. If you are looking for two contours of the grayscale data, you may want to try using isosurface(). This is what I use to find contour surfaces from 3d ultrasound data. You may also need to smooth your data a bit.
No. I don't actually want to extract data. I want to binarise the ultrasound image into two tones and get more accurate segmentation. I need to choose the values of thresholding for black and white
For converting the data to binary, you just have to threshold the values. Something like Bin=data&gt;thresh; As for the accuracy of the segmentation, thatâ€™s a bit subjective. Can you show some examples of what youâ€™re getting vs what you want to get?
Solved. It was just a matter of disp(p) or removing the ";" . &amp;#x200B; So many neuro connections burnt by this.
So you want to generate a random sequence of 24 integers from the set 1,2,3,4, with each integer appearing exactly six times? If I'm right about what you want to do, I think I would do it by making a matrix with the first column being random numbers in the range 0 to 1, and the second column being six 1s followed by six 2s, etc. Then I'd sort the matrix by the first column.
Unless this is a homework problem or you donâ€™t have the image processing toolbox, Iâ€™d use the implementation in activecontour doc activecontour
alright let me get right on that. I'll send you an invoice
Could you try using [randperm](https://www.mathworks.com/help/matlab/ref/randperm.html)? `indsEmot = reshape( randperm(24) , [4,6] );` Then `indsEmot(n,:)` would give you the n-th batch of emotional images (n is 1, 2, 3, or 4). Each batch would have 6 images, and no single image would be repeated between batches. &amp;#x200B; You can do the same for the non-emotive images.
nvm i got it, i make a dataset then use dataset2struc
What problem is introduced when you start introducing years? Are you running out of memory, or worried about computation time? Or are you just not sure about how to structure the data in MATLAB? &amp;#x200B; For your weights "w", it sounds like you should structure it as a 3D array with size: \[nCountries x nCountries x nYears\]. It can be tricky thinking about [multi-dimensional arrays](https://www.mathworks.com/help/matlab/math/multidimensional-arrays.html), but the indexing principles are the same. &amp;#x200B; You can do all of your elementary operations with multi-dimensional arrays--addition doesn't change, but you have to use ".\*" and "./" for [multiplication](https://www.mathworks.com/help/matlab/ref/times.html) and [division](https://www.mathworks.com/help/matlab/ref/rdivide.html).
Doing a PhD in it. Producing a Forward Stratigraphic Model in Matlab for use in he early stages of Exploration of Hydrocarbons. Specifically in areas of poor data quality and density. Currently testing the model with data from the real world (not allowed to say where yet lol). My code is crap but it works so I'm happy. Nothing fancy at all, most of the questions here go waaay over my head
Looks like interesting stuff. Good luck, looking forward to seeing the publication
Aiming to proceed via Thesis by Publication. So the first paper is aimed to be written and submitted within 6 months, most likely to the AAPG Bulletin but nothing is set in stone yet.
This seems like a project that's perfect for tensorflow. Using their embedding projector https://projector.tensorflow.org/ Might be a nice start to guide the direction of your analysis. Once you've loaded your data set into the applet, you can play with the hyperparameters to try to get what looks like a reasonable visualization. You can also query the data set for correlations and what not. Edit: feel free to PM or comment reply if you have any questions. It's a bit of a bitch to get the projector to run, but it's definitely worth it, even if it's just for kicks.
You need to use a technique called histogram equalization, meaning make a histogram of the frequencies of your sound, and then redistribute the energy to get a flat histogram that is the characterization of white noise.
Why transform? I think itâ€™d be easier to just make the white noise from scratch. Loop across a sine wave to create a a sine wave for each frequency across whatever bandwidth you want. Use the rand function for phases. Then ifft that bad boy and youâ€™re good to go.
Use a database. Host it on AWS. For what you're doing it'd be free. Use the database toolbox if you have it, because it's quick and easy, or alternately use a MEX Function (there's one on the file exchange) to connect to MySQL. This would be pretty trivial to setup and get working. &amp;#x200B; For the AI.... tic tac toe is pretty simple. Keep track of the probability that making a move in grid square X will win, based on the current board. Update the probabilities after each match. At the very beginning, each grid square has an equal probability because the AI doesn't know how to win yet.
Thank you a lot! &amp;#x200B; If you don't mind, can you elaborate further on the AI part? I'm a little bit lost. I understand that a probability will have to be calculated for every square in every game state, so, when will it be calculated? At the end of the match? &amp;#x200B; Thanks again in advance.
Looks like dt is the time step increment and tf is the final time.
That's extremely interesting. If you don't mind me asking a few questions: \- How has the petrology of the region affected your model? \- Does the overlying complexity of rock bodies make it very difficult to implement your model? \- How would you account for all of these factors in your code? Is it pre-built into the model or are you feeding it as you acquire data? I'm a geology undergraduate that has been using MATLAB mainly for signal analysis and I always get excited when I hear about something like this. Would love to hear more.
Okay thanks! I feel a bit dumb now
No worries! Happens to us all man.
WARNING WALL OF TEXT INC. No worries I will answer as best I can. 1) Are you referring to Sedimentary Petrology or general Petrology? The program is intended to model deep marine systems, it is not designed to work in areas such as Fluvial or Shallow Marine systems. So if you used it to try and model a fluvial system, with the variables we have programmed in you would get absolute garbage coming out that makes no Geological sense. But the type of basin, such as Gravity Driven Salt Expulsion or Gravity Driven Fold and Thrust belts does have a major effect on the model as their tectonic history is vastly different. We classify the stratigraphy into Gravity Flow Deposit (Turbidite, Debrite, Mass Transport Complex etc...) and Background Sediment. This is done because we model the deposits rather than the processes that govern the deposits of the flow. 2) No (to a certain extent of course). The main reason that we need a model like this and we have built it is that we are often unable to see pinch outs in places such as Gulf of Mexico, or even the North Sea. At this point our traditional methods of exploration can become less than optimal, and we have to rely on other methods such as Stratigraphic Forward Modelling (SFM) to suggest where our reservoir sands pinch out and where to drill. We have designed the model to be very simple, taking only what you can find from seismic or literature, and then pair that with general knowledge of Geology to produce a probabilistic model of where our reservoir sands may pinch out. The one time that the complexity of overburden could be an issue is if there is evidence of the stratigraphy being rotated past vertical. We can't model that at all and it breaks down. 3) We are actually entering the realms of the Philosophy of the modelling type with that question but I will attempt to answer you. The simple answer is we don't account for all of the variables possible, you simply can't. The philosophy we have is "Its better to be approximately right, than precisely wrong". That is because, if you have a large number of variables (say the 20-30) for a Hydraulic modelling as a modeller you don't have the vast majority of them to an acceptable level of accuracy, so you need to make assumptions. So for example, if you change the angle of the sea floor surface by less than 0.05 of a degree, a turbidity flow can change its properties from erosive to depositional in nature and vice versa. You do not have that data to any where near that quality, so what you end up with is something that is Geologically realistic but precisely incorrect for the basin you are modelling. We use Geometric Modelling, so instead of using process based modelling such as Hydraulic Modelling to model the individual flows, we model the deposits. We require only a minimal number of inputs, 5 rather than say 20-30 to be exact. This gives us something that is approximate, but at the scale we are working at, it is "good enough". The trade off is that we are only approximately correct when we model, but that is often better than being precisely wrong if you chose the wrong variables. I hope answers some of your questions.
How are you determining your asymptotes?
I am not an AI expert so you might want to find another method. But that's what I would do. I would maintain a set of game boards, and for each one, the probability of winning by making a move at each location. Initially you seed this with all the same value, 0.5 for example, and for matching entries you randomly decide. At the end of each match you can go through the match history and recompute the probabilities. Store them in a database or a MAT file. There's a finite number of board combinations so the data set won't be very big. &amp;#x200B; Another option is to train a neural network... you could update it after each match. You could use the neural networking toolbox maybe.
the user manual on the github repo tells you how to install it https://github.com/BSP-Uniandes/RIPPLELAB/blob/master/Documents/Help/RIPPLELAB_User_Manual.pdf (page 2)
Alright thank you a lot again! After doing some research, I decided to use the neural network option.
Based on [this page](https://mathworks.com/hardware-support/nvidia-drive.html) it seems you just use the GPU Coder for the embedded Nvidia platforms too.
Thank you!!!!
There are a lot of things that could be going wrong, but consider that after you change directories into a specific folder you need to go back up a folder before changing into the next one (i.e., by using `cd ../folder` instead of `cd folder`)
how about just: foldername = ['/nfs/group/fw/model/test/EU/',num2str(yrs(i1)),'/post_files/']; files = dir([foldername '*.nc']); % for i2 = 1:length(files) A = ncread([foldername files(i2).name],'WS'); end
Execute Run and Time to see, which line is taking the time and how many times the subroutines are called.
Hi thanks for your answer ! I pretty much where the problem is since one iteration in my loop is taking 0,4sec, which is huge. I tried to use cell as I said, but I came across a vector's lenght problem. If I preallocate my matrix (vector to be precise), then I have a problem since it will be filled with values... &amp;#x200B; Any insights on this ? Best regards!
&gt; If I preallocate my matrix (vector to be precise), then I have a problem since it will be filled with values What do you mean by that? Does your spreadsheet columns have different lengths? May be the erros are related to that. Since your data source is a single file, the best thing is to read it only once, then take the values from the memory.
File IO is always super slow. Try to do your file operations all at once and before any processing/plotting. Never put repeated file IO within for loops unless absolutely necessary. Your xlsread (and probably fscanf) operations are most likely the ones that are killing you. Each call to xlsread is going to take a few fractions of a second. You should do one big read at the beginning, store your data appropriately, then process/plot it.
Hmm, Iâ€™m guessing you are saying your plots are overlapping, so you canâ€™t see their intersections. There are a couple solutions to this, but they depend on your type of plot. Iâ€™ll list a few common ones. For â€œplotâ€: you can try changing the â€œLineStyleâ€ property so one data set has a dashed line. For â€œplotâ€ or â€œscatterâ€: you can try changing the â€œMarkerâ€ property so that one datasetâ€™s marker is big and open (like â€˜oâ€™) and one datasetâ€™s marker is smaller and closed (like â€˜.â€™). For â€œhistogramâ€: you can try changing the â€œFaceAlphaâ€ property in both datasetsâ€™ histograms to something like 0.5. This will make the histograms semi-transparent. I hope that helped. Let me know if it wasnâ€™t quite what you were looking for.
From the MATLAB documentation, it looks like youâ€™re getting what MATLAB says you should get. So youâ€™re not messing up the code. It seems that the form used by Wikipedia (and all other sources I could find) is â€œsimilarâ€ (in a linear algebra sense) to the form used by MATLAB. So both forms have the important property of its eigenvalues solving for the zeros of its polynomial. In short, Iâ€™m not sure why MATLAB is using the convention they are using, but the result seems to be valid. Sorry I couldnâ€™t be of more help.
Thanks, I'll wait for others to answer too :) .. but i don't know why someone downvoted my post, did i do anything against this sureddit's rules?
Np! I have no idea why you got downvoted. I guess even on the outskirts here in r/MATLAB, reddit is still reddit haha :P
Why do you want it to be in that specific form? The matrices are similar, and are thus equivalent for root finding purposes. You can code up your own compan(vec) function if you want.
Xlsread default output is [a, b, c] where a is numeric, b is header, and c is raw. Is this the problem? (Just a shot in the dark). If not, try to resolve the issue using the matlab gui data import wizard and generate code after to see what it gives you?
Can you show an example of your code using the xlsread? Should be [Num,Txt,Raw]=xlsread(...)
Yes it is. The command window only execute the code from the script and ignores the part of the code you comment out. When you export the code, you retain the comments on the scripts.
comments aren't run, so they shouldn't output to the command window like variables are without a semicolon. You can use disp("these words") to show words in command window in a script. you can also use \[ \] to concatenate strings like disp( \[ "X's value is ", num2str(x) \] ) Is that what you're asking?
Thanks, appreciate it.
Yes, thanks for the clarification.
MfrRead = xlsread(s.FileName,Count,â€™B3â€™); that is what Iâ€™ve tried and if the cell is numbers it works, but not with text. Iâ€™m using â€œCountâ€ to go through my sheets and thatâ€™s working fine.
Check the documentation: [https://www.mathworks.com/help/matlab/ref/xlsread.html](https://www.mathworks.com/help/matlab/ref/xlsread.html) if only one output specified it stores the numeric data. use: [num,txt,raw] = xlsread(s.FileName) raw will be a cell array with all the data.
Why would a comment show up in the command window?
Finding an intersection between two curves has nothing to do with plotting. Plotting is for displaying data, not computing it. You can find intersections in a number of ways. Most generally you could use fzero along with functions to interpolate your data.
Thanks it worked!
Good to hear
What is your understanding of "white sound?" If you mean white noise, u/mapsandclocks has a good suggestion. If you just want to normalize the amplitude spectrum - retaining just the phases of the frequency bins - then here is some code to help you learn how. Point the "fn" variable to your file. clc fn = "YOUR FILENAME WITH FULL PATH HERE" ; [ y_raw , Fs ] = audioread( fn ) ; % Get the raw spectrum of the audio Y_raw = fft( y_raw ) ; % Whiten the spectrum by normalizing the magnitude of every % frequency bin to 1 Y_white = Y_raw ./ abs( Y_raw ) ; % Transform whitened spectrum back to time domain y_white = ifft( Y_white ) ; % Normalize time-domain magnitude y_white = y_white ./ max( abs( y_white ) ) ; % Play audio of whitened sound - uncomment to hear % sound( y_white , Fs ) % Plot spectra to illustrate whitening figure sp( 1 ) = subplot( 221 ) spectrogram( y_raw , hanning( 256 ) , [] , [] , Fs , 'yaxis' , 'centered' ) title( 'Raw Spectrogram' ) sp( 3 ) = subplot( 223 ) spectrogram( y_white , hanning( 256 ) , [] , [] , Fs , 'yaxis' , 'centered') title( 'Whitened Spectrogram' ) sp( 2 ) = subplot( 222 ) pwelch( y_raw , hanning( 256 ) , [] , [] , Fs , 'centered' ) title( 'Raw Power Spectral Density' ) grid on sp( 4 ) = subplot( 224 ) pwelch( y_white , hanning( 256 ) , [] , [] , Fs , 'centered' ) title( 'Whitened Power Spectral Density' ) grid on linkaxes( sp( [ 1,3 ] ) ) linkaxes( sp( [ 2,4 ] ) )
I'm a bit surprised by this but just tested it, you need to use single quotes ['ABC','DEF','GHI'] Spaces will work instead of commas too
Are the x and z axis input variable? If so, your regression solution will be a plane, not a line. You can visualize it using linspace.
X,y,z are inputs. Iâ€™m trying to see the relationships between all three variables.
So, 'abc' is not a string, but an array of char (that's not the same thing). Before the version 2014(6?).b matlab would not understand an array of strings, so you needed to use the strcat. If you want to use strings, use the double quotes. So "abcd" + "efg" = "abcdefg", while 'abcd' + 'efg' throws an error (different sized arrays)
I don't think a 3 dimensional visualisation would provide any insight. In this context, linear regression doesn't make sense. You'd be regressing two inputs on one and the solution would be a plane not a line. You could do this for each of the three variables but it would be messy and meaningless. If you're looking for a simple way to show the relationship between each of the variables I'd suggest just calculating the correlation coefficient between each unique variable pair.
Thank you so much!
This equation, in matrix form, is a set of linear differential equations for the components of y. If you were to expand out the matrix multiplication you can easily get this equation into a set of ordinary differential equations for the components of y. You can even do this in matlab using the reshape function to reshape your matrices into vectors, then use ode45 to solve your system. Currently without a value of C you cannot solve this equation numerically, you must *assign* a value to C, otherwise you must solve this symbolically.
&gt; different sized arrays And if they are in fact the same size, they will add, but not in the way you'd probably expect; this is where native2unicode comes in handy
Thank you! I assumed the same.
There are NaN values in my data. Is there a placeholder variable that fills a space but has no value? I'd like to keep my 50x1 matrix while ignoring the NaN values so I can get a slope. Does this placeholder variable exist in Matlab?
Not AFAIK. Some functions handle nan values (like nanmean) while a better approach is to just remove the nan values with logical indexing: ind = \~isnan(x) x(ind) This way you can pass x(ind) into functions while preserving the dimensionality of x.
Could you post the error messages?
Sure: &amp;#x200B; Error using estimateGeometricTransform&gt;checkRuntimeStatus (line 177) matchedPoints1 and matchedPoints2 do not have enough points. The number of points in each set must be at least 4. &amp;#x200B; Error in estimateGeometricTransform (line 159) checkRuntimeStatus(statusCode, status, sampleSize); &amp;#x200B; Error in Exemplar (line 57) tforms(n) = estimateGeometricTransform(matchedPoints, matchedPointsPrev,... \&gt;&gt;
It seems that you don't have enough features that match in your images. Make sure that your images have enough overlap so that MATLAB can detect common features of your images. It could also be an I/O problem, so just step through and make sure everything seems correct.
The images are all from one panoramic image - split in to 20. So it should pick up the matching features. I stepped through and the for loop works until i debug the last line - either its to do with the no of images (being more than the example) or something code related needs to be altered
What is the output of the p code? Does it output 500 results? If it does, you might want to do an element-wise multiply using rand(500,1).*dice1() instead. Otherwise, if you try rand(50000,1) instead of rand(500,1) is it more repeatable?
Normally you would use the mex function to compile your .cpp code into a mex file. Then you can call functions from within the mex file as if they were native matlab functions. There must be someone who has released bindings for OpenCV to be used in Matlab.
By preallocating, I mean filling z vector with zeros and then each iteration I store the data into this vector. That's what I did here : clear; clc; if ~isempty(instrfind) fclose(instrfind); delete(instrfind); end plotTitle = 'Serial Data Log'; % plot title xLabel = 'position X'; % x-axis label yLabel = 'position Y'; % y-axis label zLabel = 'intensity'; plotGrid = 'on'; %%Just to give time to Matlab to plot serialPort = 'COM4'; count = 0; datalenght=0; FileName = 'PatternMatlab.xlsx'; x=xlsread(FileName,'A1:A2273'); y=xlsread(FileName,'B1:B2273'); data = zeros(2773,1); title(plotTitle,'FontSize',25); xlabel(xLabel,'FontSize',15); ylabel(yLabel,'FontSize',15); zlabel(zLabel,'FontSize',15); grid(plotGrid); s = serial(serialPort, 'BaudRate', 9600); fopen(s); while datalenght &lt; 1000 dat = fscanf(s,'%f'); if(~isempty(dat) &amp;&amp; isfloat(dat)) count = count + 1; datalenght = datalenght+1; data(count,:)=dat(:,1); z=data(:,1); plot3(x,y,z,'o'); end end figure(2); dt = delaunayTriangulation(x,y) ; tri = dt.ConnectivityList ; trimesh(tri,x,y,z); disp('Session Terminated'); Okay it is working, I'm not plotting in real time since it is "too" fast now but anyway I'm glad it is solved. &amp;#x200B; Thanks for the help !
Hi! Yes I followed your and henrique advices, I put my code in my answer to henrique. Thanks a lot for helping !
I know this is a late message, but it was really frustrating because I had tried this technique already. But after seeing how well written your response was, I had another go. TURNS OUT i spent hours having the imageLeft and imageRight swapped around on accident haha. Thanks again! I appreciate it :)
Thanks for your reply :) actually i didn't come across companion matrix in my study (I'm a Physics student, 4th year) and i just saw companion matrix the other day so i'm learning on my own .. i don't understand how they are equivalent, can you direct me somewhere to learn :)
This is not unique to companion matrices, but here goes. What is essential here is that they have the same eigenvalues, so the following is somewhat overkill. But what I mean when I say they are similar is that there exists a matrix P, so that A=P\*B\*P\^(-1). One way to see this is that they have the same jordan form. Both can be diagonalized, since they have distinct eigenvalues. So we have B=Q\*J\*Q\^(-1). And since A= P\*B\*P\^(-1) = (P\*Q)\*J\*(P\*Q)\^(-1). So same Jordan form &lt;=&gt; A is similar to B.
Another good point in reading the that separately than the plotting is that you can create sections in you code to organize it, using `%%`, so you can have: `%% read data` `bla bla bla` `%% plot data` `ble ble ble` Then, pressing ctrl+enter, you can ran only a section. You can read the data only once, store it in memory and than plot as many time you want, updating the visual as many times as you want, quick and easy!
You can set a bigger threshold for max iterations (see the documentation on optimset to set options). But you might want to try to choose a better starting point.
I'm not exactly sure what your question is, but there are a number of ways Matlab can do this. If you want a very accurate solution, the new (ish) PDE Toolbox can do a finite element solution for you, I think (although I haven't had a chance to use it yet). If you can do some hand calculations to come up with an ODE describing the problem you can use one of the built-in ODE solvers, like ode45. Either way, I'd suggest you start by reading the documentation on anything that seems relevant.
When this occurs, there is an exit message that tells you how to raise the iteration limit, right? That answers your question about how to proceed. Whether the result after early termination is close to an optimum, that's a very problem specific question. I have no way of knowing. Only you can answer that. Take the returned parameter estimate and check for yourself. Is the error small enough given what you know about your problem? Is the gradient near zero? Only an expert in your particular problem area (you) can answer these questions.
I don't understand what you mean by "it is not an actual tf"? Coefficients of the s's in your denominator and numerator are all you need to create a transfer function model in Matlab, after which you can just easily create a bode plot.
Hey thanks for the response! So my equation is far too long/complicated for me to go and manually grab the coefficients of the numerator and denominator. Any suggestions?
If the transfer function isnâ€™t a function, Iâ€™m not entirely sure how you would be able to plot it. Regardless of whether it is a bode plot or not, you need either a function to use to calculate points, or an array of data. Do you have an array instead?
can you clarify what you mean by "its not an actual tf". a bode plot is just the magnitude and phase of the transfer function over a range of frequencies. so if you cant directly use the bode function, just evaluate the mag &amp; phase of your function manually at each freq over the interested freq range and plot that.
There's a great utility on the file exchange that can do this: [https://www.mathworks.com/matlabcentral/fileexchange/11837-fast-and-robust-curve-intersections](https://www.mathworks.com/matlabcentral/fileexchange/11837-fast-and-robust-curve-intersections)
Is there a reason that you arenâ€™t using matlabâ€™s imread() function?
Ah this makes sense. I appreciate the explanation!
Oh boy, I hate cells. They're really useful, but the notation of A{i,j}(k,l) drives me crazy. haha A solution for you: initialize an "averages matrix" then put all your averages there. Something like that: `m=length(Mz)/n;` `Nz=zeros(n,m); % initialization of the 'averages matrix'` `for i=1:m` `Nz(:,i)=(Cz{1,i}+Cz{1,i+1})/2;` `end` I think it should work fine. Some other small suggestions: * If I got it right `Cz` is a single-dimension-cell-array, so I think you can just write `Cz{i}` and `Cz{i+1}`, without the `1`, there's no need for two dimensions * Avoid using `%%` for comments, use them to create sections in your code (super useful and recommended!) Good luck!
I'm really not sure what the problem you're trying to solve is. I would say as a first instance, think about how you are going to lay out your problem, and what simplifications you may want to make: \- Are the bolts all on the same plane - if so, can you assume a 2D problem? \- Is there some axisymmetry you can use to simplify to a 1D problem? If it's a 2D problem then I would recommend setting up a ThermalModel from the PDE toolbox - in there you can set your geometry, generate a mesh, as well as setting material properties across multiple domains (which sounds like it would be useful in your case). You can then set boundary conditions (convection etc.) and solve in steady/transient conditions. If the complexity is greater than this, I would perhaps recommend using something like ANSYS to perform a thermal simulation on a full 3D model (in fact, I would do this anyway to confirm the accuracy of a reduced order model).
I'm using the OpenCV interface from https://www.mathworks.com/help/vision/ug/opencv-interface.html
I need to convert my Matlab code to C++, and matlab's imread isn't convertible
Right, but I think what is being suggested is to separate the algorithmic parts of your OpenCV usage from the fileio. If you need the OpenCV algorithmic code to be MATLAB callable via MEX, then you can just pass in the result from MATLAB imread. In a deployed C++ context without MATLAB, use the file reader of your choice, which might be vanilla OpenCV.
I don't quite understand what you're saying. I have Matlab code that looks like this: %%%do some Matlab commands imname=['lenna.bmp']; %want to do "BW=im2double(imread(imname));" %but "imread" is not convertible %%%%more Matlab code using result from `BW` I want to convert the ENTIRE Matlab code to C++. That is why I was thinking if I could import the OpenCV version of `imread`, then the whole Matlab code could probably be convertible
Presumably, you don't really want to generate code with a hardcoded "imname" right? So you'd want to abstract so that the algorithmic operations on imname would work on ANY image. Take that a step further, and write the OpenCV code so that it takes numeric image data in whatever form you want BGR or otherwise instead of taking a filename. I'm pushing on whether you really want/need to generate the ENTIRETY all caps of your code as C++. If you have good reasons, that's cool. Just not obvious to me.
Thrust control vectoring project? Are you just trying to plot velocity from positions of altitude?
 `% Estimate the transformation between I(n) and I(n-1).` `tforms(n) = estimateGeometricTransform(matchedPoints, matchedPointsPrev,...` `'projective', 'Confidence', 99.9, 'MaxNumTrials', 2000);` &amp;#x200B; `% Compute T(n) * T(n-1) * ... * T(1)` `tforms(n).T = tforms(n).T * tforms(n-1).T;` &amp;#x200B; The problems in these lines
Could you use compute a distance transform on the output of bwdistgeodesic? doc bwdist
The output of bwdidgeodesic is an image where each non-zero pixel represents the distance to the nearest pixel in my source array. bwdist takes a binary image as an input so I am not sure what you mean. Can you elaborate on your idea?
My bad, bwdist gives you exactly what you want as the optional second LHS argument: [BW,idx] = bwdist(___) You want the equivalent for bwdistgeodesic, which isnâ€™t a syntax. Iâ€™ll ponder further.
Yes exactly. Thank you for your continued pondering! &amp;#x200B; I have been working on a solution, involving this code: [https://www.mathworks.com/matlabcentral/fileexchange/24531-accurate-fast-marching](https://www.mathworks.com/matlabcentral/fileexchange/24531-accurate-fast-marching) &amp;#x200B; The author has stopped responding to queries, but his msfm2d and msfm3d codes return essentially equivalent distance transforms to bwdistgeodesic. Unlike bwdistgeodesic however, we can see each line of their code and edit it. The problem for me is it is written in C. I think I have found where I can create this index matrix in the code, but I have no idea how to set it as an output. There doesn't seem to be any indication of where the distance transform itself is set as an output. &amp;#x200B; Do you have any experience with C?
I am experienced with c++, but before we go there, how many seed points are there? Just a few or a significant part of the image grid, or problem dependent so you canâ€™t say? I have an idea if the answer is not very many seed points. Also, how important is speed/optimization in the solution?
Firstly, I'm not sure what the point of making multiple throwaways is, everyone paying attention knows it's the same person asking the MATLAB Coder ceval questions. I think you are confusing some things here. A C custom-written MEX file is meant to be called directly from MATLAB so your MATLAB code can run custom C code. On the other hand, coder.ceval tells MATLAB Coder to insert a call to some arbitrary C function. MATLAB Coder can generate a MEX file for use within MATLAB, or standalone code for use in embedded applications without MATLAB. Here is an example using MATLAB Coder to generate a MEX file from MATLAB Coder that also calls a custom C function. First, make a myFcn.h file: double myFcn(double B[8], double C[8]) Then a myFcn.c: double myFcn(double B[8], double C[8]) { int i=0; double sum = 0; for(i = 0; i &lt; 8; i++) { sum += B[i]; } for(i = 0; i &lt; 8; i++) { sum += C[i]; } return sum; } And then here is your M file: function ret = exMexFunction B=[0 1; 0 0; 1 0; 1 1]; C=[1.5 0; 0.5 0; 0.5 1.5; 1.5 1.5]; if coder.target('MATLAB') res=B+C; res1=sum(sum(res)); disp(['sum: ',num2str(res1)]) ret = res1; else coder.cinclude('myFcn.h'); coder.updateBuildInfo('addSourceFiles','myFcn.c'); ret=0; ret=coder.ceval('myFcn', B,C); end Now, let's codegen it: &gt;&gt; codegen exMexFunction And we see the results match with MATLAB: &gt;&gt; exMexFunction sum: 11 ans = 11 &gt;&gt; exMexFunction_mex ans = 11 &gt;&gt;
It is problem dependent. The total number of non-zero voxels of my largest image is 500 million. The number of seed points is skeleton points of the volume which works out to about 12.5 million voxels. So about 2.5% of the volume but still significant. &amp;#x200B; Therefore, given the size of the data, speed/optimization is highly desirable.
Last question, which version of MATLAB are you using?
MATLAB 2016b primarily, however I have access to 2018b, I just have not installed it yet.
I should've been more specific. I meant to say I need a Matlab code to use another mex function and then convert the entire code to C++. That is why I used the example of Matlab calling the `mexFunction.c` and then I wanted to convert the entire `exMexFunction.m` to c++
You can't do that. Calling custom MEX functions requires the MATLAB engine and makes no sense for code generation. You could get it working such that the resulting MEX file would run using MATLAB using coder.extrinsic, but it would not be portable at all and would require both a MATLAB installation and your custom MEX file on every system going to run it. See the below response: https://www.mathworks.com/matlabcentral/answers/48620-generating-c-c-code-from-m-function-include-mex-file
Yeah I can't really be sure without having the actual images, but I would just suggest you check the results of each operation (like view the matched points on the actual images, make sure your images load the way you expect, etc.).
I just provided the code in the OP as an example. The actual code I'm working on is at: https://pastebin.com/tCRvmTjy It uses `PolygonClip` from https://www.mathworks.com/matlabcentral/fileexchange/8818-polygon-clipper?s_tid=srchtitle Although I could run `P = PolygonClip(S1,S2,1);` in Matlab, if I use `extrinsic` to call it and then used the Coder, I would get errors saying it's not available for standalone code generation. That is why I attempted to use `coder.ceval`. The error is at: https://pastebin.com/SHRgi4yk
https://www.mathworks.com/help/coder/ug/use-a-c-dynamic-library-in-microsoft-visual-studio-project.html
Hi! Yeah you are right, Cz is a single-dimension-cell-array which is composed of 1x47 cells where each cell is a 57x1 matrix. I'll try using %% since I believe it is the second time you are telling me that, but I can't seem to bring myself to use it (guess I'll work on that). Thanks for the tip, I will try your solution and I'll give a feedback ! Many thanks.
&gt;I'd like to connect two cylindrical rods of Ti and Al material together, keep the far end of the Ti rod at some constant cool temp, and then see how long it takes to cool down the Al rod. Likely using Fouriers Heat Equation. 1D is fine.
You can define an anonymous function before your loop: extract=@(x,i,j) x(i,j); for i=1:m for j=1:n A(i,j)=extract(Qmatrix(...),i,j); end end
&gt;&gt;I'd like to connect two cylindrical rods of Ti and Al material together, keep the far end of the Ti rod at some constant cool temp, and then see how long it takes to cool down the Al rod. Likely using Fouriers Heat Equation. 1D is fine.
Yes, you might have to write a wrapper function to convert to/from the variables from MATLAB Coder, but you should be able to get it to work with coder.ceval on gpc.c
Why did you convert the rgb image to gray? Why are you using the sum operator? Do you want to count the number of pixels? "Sum of each individual pixel intensity" makes no sense.
Converting from rgb to gray was just a step in the homework that we had to complete. The prompt for this question is; " find the sum of intensities that have intensity &lt;= 150" For instance I want to be able to sum the elements of the matrix ONLY if they are greater than 150 i.e. image = \[130 50 220; 60 155 90; 70 40 200\] I want to be able to sum the the elements that are greater than 150 so in this example it would be 220 + 155 + 200 = 575. Does that help?
Does your solution not work? What's wrong with the solution you tried?
 sum_pixel_intensities = sum(grayimage(grayimage &gt;= 150))
Rather then nested for loops, generate the combinations of column indices, then iterate through those. For example, if you wanted to iterate over every combination of two columns from a 3 column matrix, first generate: ((1,2), (1,3), (2,3)) Iterate over that, and use each tuples values to index the matrix
Tremendous! That worked perfectly.
Great idea, thank you.
Ok so finally I had to make some minor adjustment to your code to make it works ! Here's the "final" thing : %% Averaging intensity line by line Mz=zi; n=59; for i=1:length(Mz)/n Mznew(:,i)=Mz((i*n)-n+1:i*n); end Cz=num2cell(Mznew,1); m=length(Mz)/n; Nz=zeros(n,m-1); for i=1:m-1 Nz(:,i)=(Cz{i}+Cz{i+1})/2; end NzRdy= Nz(:); I just changed the number of colums in fact to be honest. Since I'm averaging 2 columns each time, the final number of columns should be the initial number -1. Explication (for me to understand if my reasoning is right) : First and second columns give 1 average, second and third also give one, so every initial column should also give 1 apart from the last one since it is averaged with no one. Many thanks for your tips and help !
Do you know how to write a column vector as opposed to a row vector in matlab? I'm just trying to gauge your level of understanding.
Is there some way that I can share my matlab code in here?
without really understand what you mean I wrote this function y = aPhysicianLostInMath(x) mx = mean(x); y = (x + mx) / 2; end Can you maybe write out your desired sequence of numbers?
Yes it might be working but in my case I don't have any function. To be precise, I have 2 lines made of 59 points, so I have a 2x 59x1 vectors. The function I'm looking for is something that if I enter the order (or the number of time it will average), will give me for each line, with each point corresponding, the value of these 2^n-1 values
let's say you have `x = [100 0; 0 100]` to start with, can you tell me what you expect to see if `n=4` ?
Yeah I've gone through the images and not all have matched points when i tried each combination using showMatchedFeatures. Is there a way to alter the code so that if an image has 0 matched features it tries another image if matchedfeatures &gt; 0 ( execute ... ) else ( move onto other image )
[removed]
&amp;#x200B; Hello there, again! So, if I got it right, you have two values, `A` and `B` and you calculate their average, `M=(A+B)/2`. From that you calculate `MA2=(A+M)/2` and `MB2=(B+M)/2`. Then `MA3=(A+MA2)/2` and `MB3=(A+MB3)/2`, and so on, always `Mx_i=(x+Mx_(i-1))/2`, right? If so, the following code does it for you. % initialize rand vectors for averaging a=rand(1,5); b=rand(1,5); nl=length(a); % number of averagings to be done n=10; % initialize the averages matrices ma=zeros(n,nl); mb=zeros(n,nl); % first line of the averages matrices ma(1,:)=(a+b)/2; mb(1,:)=(a+b)/2; % calculates the averages n times for ii=2:n ma(ii,:)=(ma(ii-1,:)+a)/2; mb(ii,:)=(mb(ii-1,:)+b)/2; end
You can put code snippets in comments here, but for larger code, putting it on Github and providing a link might work.
[removed]
I tried to understand from every tutorial I can find but I still canâ€™t do it. What is there that I actually missed? I actually try to accomplish [this](https://www.mathworks.com/matlabcentral/answers/461978-help-with-simple-pendulum-with-moving-support) task. The manipulated variable is the cart velocity and responding variable is the angle of deflection.
In MATLAB, generally, if youâ€™re writing a for loop, youâ€™ve missed an opportunity to vectorize your code
&gt;I'll try using %% since I believe it is the second time you are telling me that LOL, I didn't realize it was you both times, sorry. (maybe I'm trying to sell this ideia a bit too hard...) hahaha &gt;Explication (for me to understand if my reasoning is right) : First and second columns give 1 average, second and third also give one, so every initial column should also give 1 apart from the last one since it is averaged with no one. So, `Nz(1,1)=(Cz{1}(1)+Cz{2}(1))/2`, `Nz(x,1)=(Cz{1}(x)+Cz{2}(x))/2`, and `N(x,y)=(Cz{y}(x)+Cz{y+1}(x))/2`. Given this, `Nz(:,1)` is a column vector with the element-wise average between `Cz{1}` and `Cz{2}`. Every `Cz{i}` vector will be averaged twice, with `Cz{i-1}` (stored in `Nz(:,i-1)`) and with `Cz{i+1}` (stored in `Nz(:,i)`). This is valid for every `Cz{i}` except for the first and last,`i=1` and `i=m`, of course. Was that your doubt?
Not quite what I meant. Thanks for help tho.
Hi, thanks for helping. When plotting data points in Matlab, Matlab connects data points together to form a curve, but it doesn't allow seeing points in between the data points, I wanna see those points specifically intersections. My problem is with how it's displaying the data, I can easily calculate the intersection manually.
Thanks!, I'll check it out.
https://www.mathworks.com/help/signal/ref/square.html this is the documentation page for the "square" command
For volume of the part, I'd look into alpha shapes: https://www.mathworks.com/help/matlab/ref/alphashape.volume.html For bounding volume, take the vertices from your STL data, find the convex hull (I think something like convhull in matlab), then calculate the volume of the convex hull similarly to the alpha shape. Alternatively, Meshmixer is good at STL calculations like volume.
I do a quite a lot with stls in matlab. 99% of the problems I solve using two external toolboxes: [iso2mesh ](http://iso2mesh.sourceforge.net/cgi-bin/index.cgi) and [geom3d](https://www.mathworks.com/matlabcentral/fileexchange/24484-geom3d). I strongly recommend reading through both toolbox' function lists (add to path, type `help iso2mesh` and ...)
 str = input(prompt,'s') returns the entered text, without evaluating the input as an expression.
Thanks
The â€œpointsâ€ drawn in between the data are a linear interpolation of the data. You can zoom in and check this, and you will in fact see a single line segment connecting each pair of adjacent data. Under the hood, I believe MATLABâ€™s graphics engine doesnâ€™t store â€œpointsâ€ between the data. Instead, it on-the-fly converts this line segment to /pixels/, according to your zoom, line width settings, computer resolution, etc. So, to MATLAB, there are no â€œpointsâ€ in between your data. AFAIK, you have to interpolate and plot the intersections manually. The code u/qtac provided is essentially a closed-form solution to u/FrickinLazerBeamsâ€™s suggestion, but only when you use linear interpolation. So, u/qtacâ€™s code would agree with MATLABâ€™s plot, since they both use linear interpolation. But, depending on how non-linear your data is, you might consider implementing fzero+interp1 with a higher order of interpolation (e.g. pchip). Nevertheless, all the provided code does is find the intersections. You would have to plot them. Hope this helps!
Simulink is it's own beast on it's own. I would not recommend trying to learn matlab and simulink at the same time. In my opinion you need to be an intermediate user of matlab to begin using simulink, since the debugging in simulink often requires you to just use matlab. To do this problem on matlab I would suggest that you set each equation of motion up separately and use the matlab command ode45 to solve them for you. To simulate them, you can use the outputs from ode45 and plot them in order using a for loop. If you wanted to make your simulation into an MP4 video, matlab can also record each frame of your graph as a video as well.
I think you might have posted this a few days ago as well. Your final solution (whatever that ends up being) shouldn't be too complicated. Consider the following as an example. Good luck!: % Pick random order of images indsEmotion = reshape( randperm(24) , [4,6] ); indsNonEmot = reshape( randperm(24) , [4,6] ); % Iterate through images for iCondition = 1:4 for iPair = 1:6 % Look up images based on condition &amp; pair # switch iCondition case 1 % Emotion , NonEmot fileLT = dirEmotion( indsEmotion(1,iPair) ).name; fileRT = dirNonEmot( indsNonEmot(1,iPair) ).name; case 2 % NonEmot , Emotion fileLT = dirNonEmot( indsNonEmot(2,iPair) ).name; fileRT = dirEmotion( indsEmotion(2,iPair) ).name; case 3 % Emotion , Emotion fileLT = dirEmotion( indsEmotion(3,iPair) ).name; fileRT = dirEmotion( indsEmotion(4,iPair) ).name; case 4 % NonEmot , NonEmot fileLT = dirNonEmot( indsNonEmot(3,iPair) ).name; fileRT = dirNonEmot( indsNonEmot(4,iPair) ).name; otherwise error( 'Unrecognized condition.' ); end % Read in images imgLT = imread( fileLT ); imgRT = imread( fileRT ); % Plotting figure( 'Name' , sprintf('Condition %u, Pair %u',iCondition,iPair) ); subplot(1,2,1); image( imgLT ); subplot(1,2,2); image( imgRT ); end % for iPair end % for iCondition
Thanks for your explanation. I guess I didn't quite understand Matlab's plotting.
+
Select your code in MATLAB, hit tab to indent, ctrl-c to copy, shift-tab to move the code back, then ctrl-v in reddit to paste. You'll have to fix the first line, as it won't have the indentation. The formatting for code can be inline using \`code\` (grave accent, same key as tilde (~), looks like `code`) or by indenting 4 spaces (or a tab in MATLAB): % some code A = eye(3); b = [1; 2; 3];
There is a [really great tutorial on this at Iowa State](http://home.eng.iastate.edu/~jdm/ee553/DCPowerFlowEquations.pdf) to help you understand the theory. I have a MSE with a focus on Power Electronics, so I've taken more than a couple power systems courses; this is the document I return to whenever I need a refresher. There are also multiple FileExchange submissions you can browse by searching "matlab power flow" on Google (any results at mathworks.com). They will give you an idea of how other people solved the problem. Once you get some code going, come back with it and we can take a look.
Thank you! I managed to fix my code thanks to you. I didn't know about that beautiful reshape function. Definitely came in handy.
No problem! I hope you understand the minor change from your first attempt -- we want the values (and not a boolean array where the values are above the threshold) therefore we use the condition to index the array itself before calling sum.
You definitely can. &amp;#x200B; you able to change your working directory via the "cd" command. Look it up in the documentation. &amp;#x200B; An arguably better and easier solution though is to add both of these working folders to your search paths. If you aren't familiar with search paths, look at the documentation for "addpath" [https://www.mathworks.com/help/matlab/ref/addpath.html](https://www.mathworks.com/help/matlab/ref/addpath.html) &amp;#x200B; So what you would do is you can add the path to the alternative directory from one of your directories via "addpath". You write the file to the other directory, and then you simply call the function in the other directory without ever needing to change directories.
&gt; This doesn't make sense as I clearly added tmwtypes.h to the solution explorer. Why is this? The short story of the why is that the C compiler don't really care about what you add to the project, in term of header files. (the long story would include myself complaining about design decisions made more than 40 years ago when the C language was designed ;-) ) What the compiler (actually the C preprocessor) is going to need is to know where to look the file "tmwtypes.h". For that it is going to look in several folders, as configured in the project. If my memory is not too bad, it should be configurable by following these directions (more or less): - right click on the project - configuration properties - C/C++ - include path, click on edit - add the folder(s) where the header files are
Adding on top of this, you can access your OS' terminal/command prompt by typing an exclamation mark (!) and then typing your command in the Command Window. For example, if your underlying OS is Linux or macOS, then you can !cp file1 file2 I'd bet there's a way to do the same with a function call in a script.
Figure(i)
I will try that. Thank you very much!
Hey there, could you host the script somewhere I can download it, Iâ€™m on the road and could try and run it through this iPad
That didn't seem to solve my problem, but thank you for the suggestion!
Try adding drawnow as the last line within the loop?
The cd() command is what you want to change folders. The fullfile() command is what you want to use to generate full paths for the files you write. &amp;#x200B; If you just add your functions to you MATLAB path, you can call them from any directory. If you want to specify input and output folders directly on each call, you can do that with uigetdir(). If they are always the same, you can hard code them (not the best flexible coding practice, but this does not sound like a commercial software). If you want to create output file directories check out mkdir(). Finally, if you want to be able to identify and loop over all files of interest in a given directory, check out the dir() command. If you want to select individual or groups files (but not ALL files) on each function call, check out the uigetfile() command. Lots of flexible ways to batch process data in MATLAB.
This should probably solve it, but wouldn't it return a "Matrix dimensions must agree" error as it currently is?
What is the code doing wrong? It seems to run fine for me.
There really should be. This is normal in a language like Python. Even the Matlab-clone Octave lets you do this, along with some other syntactic sugar. Unfortunately, there is not a great way, so best-practice for readability is to use two lines.
I think the other poster's method should work.
If possible, keep a counter variable for the number of iterations for a particular case, and export only the nonzero columns of the array. i.e. xlswrite(A(:,1:counter),...); If there are no counters available, you can specify the columns you want to export based on a Boolean evaluation in the index.
What is the name of the example model? Most of the time this type of analysis is done in Simulink, but it ultimately depends on personal preference for modeling, and model fidelity. Are you more comfortable using Simulink or Simscape?
Entirely on an iPad? I'm wondering if you could script something to save a script to MATLAB Drive, which could be opened via MATLAB Mobile.
Those data points don't exist. What you're looking for is called interpolation. There are built-in functions for it that you can read about in the documentation.
I have been working on this model I used is â€œgravity drained tanksâ€ Iâ€™m having a hard time understanding the coefficient of flow in this model P.C1 and P.C2
Here is where you can look for pricing: https://aws.amazon.com/marketplace/pp/MathWorks-Inc-MATLAB-and-Simulink/B00F009JDY You will need a Named User license from MathWorks. Feel free to reach out to us here: https://www.mathworks.com/company/aboutus/contact_us/contact_sales.html
Yeah it makes sense now, I appreciate your help
Both this solution and your original code should work fine. I think you need to take a look at the values you're inputting into your plot call. They most likely are the same every iteration.
You can always create a new array that is equal to the non-zeros of your prior array, effectively "eliminating" the zeros. Then write that. Also, xlswrite() is no longer recommended. Instead, try writematrix().
I always hated the xlswrite command. Excel is too complicated. I recommend using fprintf to write your data to a text file which you can copy and paste into excel later if you wish. This makes it much easier to simply export the data you have rather than the full array and it makes coding very simple.
If you are able to migrate to an App Designer app, there is a way to export the app using MATLAB Compiler: https://www.mathworks.com/help/matlab/creating_guis/package-apps-in-app-designer.html Here is a File Exchange entry for a migration tool: https://www.mathworks.com/matlabcentral/fileexchange/66087-guide-to-app-designer-migration-tool-for-matlab
Starting in 2019a.
One thing which immediately jumps out to me is that you need to use the input 'n' to define 'x1', don't just use T1:T2. Instead, the right way would be x1 = linspace(T1, T2, n+1). Then as the other user said, you need to apply Simpson's rule correctly.
In your inline function the first variable you seem to use is x5 which isn't previously declared from what I can see
Nope because heâ€™s used 1:5001 as the index on both y and Pyy. Pyy(1:5001) will just create a column vector of the first 5001 points of Pyy.
But how fast will it be compared with i7/i9 PC?
I gently disagree with this way of doing. Adding folders to path actually works but is also error prone:matlab will search for file in that folder (obviously) and sometimes you may not notice that you are running a file in another folder (typically when you do some mistake and delete a file in your current directory, or other thing like that). I've been tricked like that and it took me a while to realize that I was running file thanks to the path.
I have fixed it to 'x\^5 â€“ 3\*x\^4 + 4\*x\^3 â€“ 4\*x\^2 + 3\*x â€“ 1' but it still ends up the same.
This is sort of a non argument in my opinion because using paths assumes that the user knows what is contained within them. it's no different than adding libraries in any other language if you're going around adding every single path in your computer then yes that's a problem but if you are deliberately adding specific paths because you know what is contained within that is good programming
Well... Preferable yes How do you save the script to MATLAB drive? I have a macbook if that works
`a = 0.9; b = 1.2; f = @(x) x^5 â€“ 3*x^4 + 4*x^3 â€“ 4*x^2 + 3*x â€“ 1'); fa = f(a); fb = f(b); `
&gt;f = @(x) x\^5 â€“ 3\*x\^4 + 4\*x\^3 â€“ 4\*x\^2 + 3\*x â€“ 1; I don't need parentheses for the equation?
If you're have a directory with some "production" code, then I think there is no pb by adding this to the path as some kind of toolbox (which is the usual way for Matlab to add library). My experience is that when you have multiple ongoing codes with different versions, etc. then adding folder to path is error prone. But this is up to the programmer to chose the version he wants. Working with path is easy and fast provided that you take enough care...
The "â€“" that you are using between "3*x" and "1" is not a "-" (minus sign). It's a "U+2013 : EN DASH". (the other "-" are real "-", only the last one is faulty) To solve your problem, just delete it and replace it by a real minus sign "-".
i noticed the difference thanks
rand()&lt;0.1 &amp;#x200B; Also no need for a loop, you can create a big array with rand() and test it all at once... one million seems like a lot though. You'll also probably recognize that it's a Poisson distribution so you don't need to actually simulate the PDF.
Ah, Poisson! We've all been there. You basically want to do 2 things: 1. Create the events, which comply with the stated probability 2. For each event, figure out how long it is been since the last one You don't need a loop for any of this, but it's of course possible to use one About creating the events, you're received an answer in a previous comments. For the time differences, consider the following questions: given the array of 0s and 1s created - how can I find when an event has happened? Given that I know when events happened - how do I know the time elapsed between them?
What you could do is model it per second as there is 90% probability that the event will NOT occur and 10% that it will. `for n=1:1000000` `p(n)=0.9^(n)*0.1;` `end` `histogram(p)` Where n is the number of seconds and p is the probability of the event occurring on the nth second of waiting. I assumed that the events are independent, so the event NOT occurring or occurring on the second 1, does not affect the probability of event occuring or NOT on the second 2 and so on. `histogram` provides you with the tool to draw histograms. I am not sure how exactly you want to represent your data, but for more information you can type `help histogram` in the Command Window.
You can use the compiler even without converting to app designer. You just add the relevant files/dependencies. I'm not at my computer right now but I've done it before and am happy to help if you have any questions.
One thing you could try is using the fft to covert your multi mode signal to the frequency domain. From there you can look for peaks in the spectrum that should correspond to each mode, then you can calculate the frequencies and multiply them together. As long as your signal contains enough periods, has a sufficiently small time step, and the different frequencies arenâ€™t too close to each other, then this should work.
forty frequency components ranging from 0.28 to 1.5 rad/s. I did some estimates in the console and the periodic length is something in the order of 10 to the 63-th. &amp;#x200B; However, your reply is interesting. I do have the harmonic components already, so I do have spectral values (ADS). I grossly underestimated how fast the elementwise product of a 40 element vector ranging from 0 to 20 gets idiotically big.
[MATLAB Drive Connector](https://www.mathworks.com/help/matlabdrive/ug/install-matlab-drive.html) is your best bet. I'm not sure how you'd save the script from e-mail (I'm sure this is a solved problem) but you can use MATLAB Drive Connector to synch to a local folder, which then allows you to access the files via your iPad. I do that all the time.
You'd need to benchmark whatever AWS machine you choose to use. You probably want to use the [bench command](https://www.mathworks.com/help/matlab/ref/bench.html) as a starting point on a machine with i7/i9. I'd start there.
&gt;gravity drained tanks I'm not familiar with that model, but I'm assuming you mean [this one](https://www.mathworks.com/matlabcentral/fileexchange/48017-simulink-dual-gravity-drained-tank).
Yes that is the one . Iâ€™m kinda not the best at fluids but over all
Thank you!! Plotting Pyy(1:5001,i) worked!
Sorry I was on mobile last night. You should NOT use inline anymore. MATLAB is going to remove it in a future release. This is mentioned in the MATLAB documentation You should use my technique which is called an anonymous function.
It may also be useful to use a short-time FFT (ie specgram.m in the signal toolbox) to see if the different harmonics can be isolated in time as well as frequency.
It was provided by the professor XD Can't really change that much. Old-school style.
Gotcha. That is a user-created example. You may want to reach out to the author: [https://www.mathworks.com/matlabcentral/profile/authors/2999766-john-hedengren](https://www.mathworks.com/matlabcentral/profile/authors/2999766-john-hedengren)
Another way would be to do an autocorrelation and look for the distance between the highest peaks.
You get an error that only explains a side effect of what your actual error is. I assume this is just a testing function and the sum function, that you happened to choose on the output, does not make sense on scalar values. But why is the output scalar? TL;DR the output is pointing to the first element of the output vector. (Keep in mind, I have done a fair bit of C++ programming, also in MEX functions, but I haven't worked with it the way you are and I'm not a comp sci guy) When working with arrays in low level languages like C and C++ you always work with pointers, denoted by the asterisk. They can in general point anywhere in the memory. In your example you assign the result of new double[3] to such a pointer. That call reserves a continuous 24 bytes block in (heap) memory and return its first address. This address is your output. In order to work with them you have to dereference the pointer first via the added [] or *(pointer). All that is when working with that in C(++). The thing is you return a raw pointer to MATLAB. Firstly, you need to dereference it to get the data and secondly you'll probably have a memory leak because MATLAB might not properly free the memory of the array after you're done with the pointer. From what I've gathered from C++ it is at least considered bad practice to return raw pointers. [This MathWorks page](https://au.mathworks.com/help/matlab/matlab_external/working-with-pointers.html) talks about dealing with pointers when working with low level code. The idea is to let the calling function handle memory allocation and freeing and giving the called function the pointer to were it should write its output. Note that MATLAB already does this under the hood for your input vectors.
I created a DLL File using `returnPolygon.cpp` and `returnPolygon.h`, then added the lines S=libpointer('doublePtr', zeros(3,1)); calllib('returnPolygonLibrary',add,3,S); But that gave the error `Undefined function or variable 'add' ` I also tried `codegen -config:lib callReturnPolygon -report`, but it said `libpointer not supported for code generation` But that's ok because I can use a structure to get the result from C++ instead of an array
I'm confused, are you using MATLAB Coder to generate C/C++ from MATLAB, or are you using loadlibrary+calllib to call an existing C/C++ library inside MATLAB?
I have the Matlab script `callReturnPolygon1.m`, which calls the C++ code, and then I want to convert the entire `callReturnPolygon1.m` code to C++ using the Coder
oh I see, I haven't done anything similar so I don't much experience with that.. Browsing the docs, I noticed this: &gt; For code generation, before calling `coder.ceval`, you must specify the type, size, and complexity data type of return values and output arguments. So I guess you'd have to use `coder.opaque`, `coder.ref`, etc.
I just tested it on my side, and my suggestion above works (passing output argument as `coder.wref`). Here's the code: # add.h #ifndef ADD_H #define ADD_H void add(const double *in1, const double *in2, double *out, int len); #endif # add.c #include "add.h" void add(const double *in1, const double *in2, double *out, int len) { for (int i=0; i&lt;len; ++i) out[i] = in1[i] + in2[i]; } # calladd.m function c = calladd %#codegen a = [1, 2, 3]; b = [4, 5, 6]; c = zeros(1,3); if coder.target('MATLAB') c = a + b; else coder.updateBuildInfo('addSourceFiles', 'add.c'); coder.cinclude('add.h'); coder.ceval('add', coder.rref(a), coder.rref(b), ... coder.wref(c), int32(numel(c))); end end
If your university has a total headcount academic license, you can just use that
yes but I would like to purchase for my own research
You have a couple thousand dollars burning a hole in your pocket?
Why? The academic license allows you to do research. You would literally be wasting thousands of dollars
Doesnâ€™t want to give credit to the university
Doesnâ€™t want to give credit to the university
Doesnâ€™t want to give credit to the university
Doesnâ€™t want to give University credit
I cannot see a reason to do this, unless this is for your own research work that is completely separate from the university. Of course, if that is the case, you will need be careful about your university's policies about technology transfer and intellectual property: this is going to be much more important than who owns the Matlab license. If this is indeed completely private work for yourself, than the personal license should be adequate. If this is for academic research work at the university, then their license should be sufficient.
Since I wasn't able to EDIT my previous post ("Something went wrong. Just don't panic"x5), I will post it there. I figured that K is not the numerical matrix associated with the scaled image I since its min is -4 and max is 4. Does someone know how to convert a num2gray image into a numerical matrix (filled with 0 to 1) ?
Since I wasn't able to EDIT my previous post ("Something went wrong. Just don't panic"x5), I will post it there. I figured that K is not the numerical matrix associated with the scaled image I since its min is -4 and max is 4. Does someone know how to convert a num2gray image into a numerical matrix (filled with 0 to 1) ?
The "subplot" function will divide your plot. Store each dataset in separate arrays, plot each one as a subplot in your global plot.
The "subplot" function will divide your plot. Store each dataset in separate arrays, plot each one as a subplot in your global plot.
The "subplot" function will divide your plot. Store each dataset in separate arrays, plot each one as a subplot in your global plot.
The "subplot" function will divide your plot. Store each dataset in separate arrays, plot each one as a subplot in your global plot.
Also, most universities offer lifetime access to their content when you graduate, at least my third-world university does so I assume a first-world one would too.
Also, most universities offer lifetime access to their content when you graduate, at least my third-world university does so I assume a first-world one would too.
Also, most universities offer lifetime access to their content when you graduate, at least my third-world university does so I assume a first-world one would too.
something like that, each color is a domain with a different spreadsheet. &amp;#x200B; [https://ibb.co/XZsqrvL](https://ibb.co/XZsqrvL)
https://kyamagu.github.io/mexopencv/
Are you not allowed to use it? Are there restrictions on number of instances?
Hi, you can use imresize on your matrix Nz without any conversion to an "image".
O\_O
That works. Thanks
Thanks for the information, everything is working just fine !
Happy matlabing!
It's possible the op is doing something in their spare time that may eventually have commercial value, and they don't want their university looking for a slice of the money because it was developed using the university's facilities, ie their Matlab license.
I agree, this does seem possible.
Username checks out
You could get your data and put it in one matrix, XY. For the first part, you use x=x+0. For the second part, you use x=x+200. Create horizontal lines to devide the subgroups and you should end up with something pretty close to your example. Hope this helps!
Why are you looking for a separate license? Are you looking to use toolboxes that aren't part of your university's license profile?
Well, although I do a lot of research, I am a part-time faculty that may not have accesses to licenses all the time.
There is an academic license that is 1/10 the cost of the normal commercial license: [https://www.mathworks.com/pricing-licensing.html?prodcode=ML&amp;intendeduse=edu](https://www.mathworks.com/pricing-licensing.html?prodcode=ML&amp;intendeduse=edu) &amp;#x200B; Not sure what the story there is with toolboxes, but I imagine you have to buy them piecemeal.
It is 1/4th and still substantial ($5K) with toolboxes...
Welp, either get on your headcount license or learn python/C. What toolboxes do you need that cost that much?
Each toolbox costs $200 but there would be many that one would need.
Thanks! The addpath thing will be handy for a number of things.
If you're looking to do work independently from your university, maybe it would be better to go with Octave.
Not independently.. It is just that a part-time may not have accesses to licesnses.
I'm not sure what exactly your question is. If you're looking to add lines, use [line](https://www.mathworks.com/help/matlab/ref/line.html) to make the vertical lines. Read the Excel data into arrays and to make it simple to implement have 5 different arrays and use [plot](https://www.mathworks.com/help/matlab/ref/plot.html) to make them different colors. [Hold](https://www.mathworks.com/help/matlab/ref/hold.html) can be used to show the 5 plots on the same figure.
Try instead running it LIKE "d:\program files\matlab\matlab.exe" windows uses a set of environment variables. One of the environment variables specifies the default folders for programs. So, to run Matlab you need to give the full path. The quotes are needed around the command so it will properly interpret folders with spaces in their names
Your situation is somewhat common. I met several folks at a recent conference asking similar questions about licensing. I recommend contacting our Sales team and describing what you are looking for: https://www.mathworks.com/company/aboutus/contact_us/contact_sales.html I would bet they field requests like yours fairly often (I work more with commercial customers, so I don't know the subtleties of academic licenses)
Let me work on it.
didn't work; it says the path is not recognised as an internal or external command ....
This looks a like like a homework assignment. Just a heads up, homework doesnâ€™t quite get as much detail as other things because we donâ€™t want to do the work for you. That said, hereâ€™s a few generic tips: 1. Look into piecewise functions and how they are done in the official documentation (the top right search bar). 2. Another possibility is conditional statements, once again searchable in the upper right hand corner of the console/command window.
post the code you have so far.
First do something like which cv.morphologyEx just to see if it finds it. If it doesn't, then you don't have the class on your path. I'm assuming you've installed opencv correctly. e.g. cv.morphologyEx(rand(5,5),'Open') or with a 3x5 implicit strel cv.morphologyEx(rand(5,5),'Open','Element',ones(3,5)) If you wanted to use their strel ex: cv.getStructuringElement('Shape','Rect', 'KSize',[3,5]) Note, the opencv matrix is cols by row (so [3,5] is specifying a 3 col by 5 row matrix) Ex: Composing them: cv.morphologyEx(rand(5,5),'Open','Element',cv.getStructuringElement('Shape','Rect', 'KSize',[3,5])) ====== The malab Help on cv.morphologyEx below. All the stuff that's in between the double underscores is just a standard matlab string, eg __Open__ ==&gt; 'Open' ... morphologyEx Performs advanced morphological transformations dst = cv.morphologyEx(src, op) dst = cv.morphologyEx(src, op, 'OptionName',optionValue, ...) ## Input * __src__ Source image. The number of channels can be arbitrary. The depth should be one of `uint8`, `uint16`, `int16`, `single` or `double`. * __op__ Type of a morphological operation that can be one of the following: * __Erode__ see cv.erode * __Dilate__ see cv.dilate * __Open__ an opening operation `dst = open(src,element) = dilate(erode(src,element))` .... ## Output * __dst__ Destination image of the same size and type as source image. ## Options * __Element__ Structuring element kernel. It can be created using cv.getStructuringElement. Empty by default, which uses a 3x3 rectangular structuring element by default. * __Anchor__ Position of the anchor within the element. The default value [-1,-1] means that the anchor is at the element center. * __Iterations__ Number of times erosion and dilation are applied. default 1 * __BorderType__ Pixel extrapolation method. default 'Constant' * __BorderValue__ Border value in case of a constant border. The default value has a special meaning. See cv.dilate and cv.erode for details.
I would play with the parameters to detectSURFFeatures and matchFeatures. Also display the matches across pairs of images to better understand what features are found in your images.
I've played with the registration estimator app within MATLAB and made fiddled a bit with some parameters but still getting no where. I must be missing something I need to add. The problem I am assuming is that at some stage features arent being detected due to say image 4 not detecting anything on image 5 (if thats how it works) so the program stops and produces the errors
Also note that the supplied images have lots of beautiful corners for feature matching. Maybe your content is not as appropriate?
Yes the content is probably been given to not suit the Mathsworks example otherwise that would be too easy. So, maybe try and add corner matching too? Here's the image set: [https://imgur.com/a/bZynqmF](https://imgur.com/a/bZynqmF)
Cool, I'm going to test both tips, and I'll come back to you. How can I place the gray part as the limit of the values â€‹â€‹of axis-y?
Hi there, I've really tried my best. I've read several lectures, did a 3bus loadflow calc by hand, read several different codes and this is the result. Somehow, it doesn't run through. Can you please help me? [https://github.com/vkolb/NR-Loadflow-6-bus](https://github.com/vkolb/NR-Loadflow-6-bus)
Hi there, sorry for the late reply. I've read your document and I've also read several lectures of mine in combination with some codes online. This is the result: [https://github.com/vkolb/NR-Loadflow-6-bus](https://github.com/vkolb/NR-Loadflow-6-bus) But somehow it doesn't run through. Can you please have a look at it? :-) Any help is much appreciated
I posted the code I have so far. I am stuck on how to represent the interval between events occurring: if trial(previous) == 1 &amp;&amp; trial(i) == 1 val = i; MATLAB tells me that I cannot use "trial(previous)" because the array index is not an integer. I don't know how else to express time between trials in which the event has occurred.
Thank you, your post helped me a lot! I had nothing for my code when I started and this helped to get me started. I am still stuck on how to find the time elapsed between events though. Can you look at my code and point me in the right direction?
Stupid reddit/BaconReader deleted my well-thought-out reply, so here is the condensed version: - Get familiar with Matlab built-in help browser, mathworks website, and possibly stack exchange. - look up imread, imshow, figures... [This link](https://www.mathworks.com/matlabcentral/answers/36160-displaying-gif-image-matlab) might help
Hi there, I've really tried my best. I've read several lectures, did a 3bus loadflow calc by hand, read several different codes and this is the result. I've read through your file too, but the problem is with matlab now (I think) Somehow, it doesn't run through. Can you please help me? [https://github.com/vkolb/NR-Loadflow-6-bus](https://github.com/vkolb/NR-Loadflow-6-bus)
Writing GIFs pretty much means creating an image (may it be with a plot, modifying pixel values or a combination of the two) and adding it as a frame to the gif for every iteration. So in order to modify a gif, you need to read it, edit it, and save it. For reading and writing, use the imread and imwrite functions. For the editing you have in mind you simply have to extend the image of the current frame with a copy of your current frame until the desired format is reached. So your project is very much possible
Use publish as doc. I like to do that cuz it also has all the plots along with nicely formatted code.
 function y = f_k(k) if k&lt;12 f_k=atan(k+1)+(k-9)^7 + (k-7)^(.5) + sin(2*k+3) - tan(2*k-6); else f_k=atan(k+1)+k^9+5^(k+8) + (k+2)^(1/6) - (log(k+2))^4 - cos(5*k-4); end y=f_k; end clear all prompt='k= ?\n'; k=input(prompt); f_1k=f_k(k); f_2k=f_k(2*k); f_3k=f_k(3*k); f_4k=f_k(4*k); f_5k=f_k(5*k);
&gt; Somehow, it doesn't run through. Can you be more specific? Are there any error messages?
Thanks. How do I do that?
No- nothing. No errors, no message. After running the script it feels like it's running something but it doesn't finish. up to the point that i stop the script (after 10 minutes)
https://www.mathworks.com/help/matlab/matlab_prog/publishing-matlab-code.html
Perfect, thank you. That tells me you've got an infinite loop, since there are only 6 buses and there's no way it takes that long to process the power flow for that many. That means we know where to look. The loop that's getting stuck is most likely the `while` loop in `newtonraphson.m`; your error `M` is probably never reaching the `Tol` value. Try setting the value in the conditional higher, for example to 1% of your expected power flow (e.g. `Psp*0.01`).
Thanks guys
i think you have some issues with your code not doing what you want it to do. as it is, you are doing 10e6 iterations, and each time you're making 10e6 random numbers. &amp;#x200B; step through your code line-by-line and see what it's doing to ensure it's doing what you want it to do. &amp;#x200B; in general for a problem like this you have two choices for saving your results: 1) a vector with 0s or 1s, with 1s indicating when the event occurred (this is similar to what you have now). each location in the vector would correspond to a time. &amp;#x200B; 2) a vector with the times the event occurred &amp;#x200B; as an example between 1 and 2, let's say you have a simulation with 10 trials and each trial represents a time bucket (first index 0-9 seconds, second index 10-19 seconds, etc.) &amp;#x200B; 1) data = \[0 0 1 1 0 1 1 1 0 0\] 2) eventTimes = \[21, 32, 54, 67, 75\] &amp;#x200B; when you bucketize the times like in 1, you're going to lose some amount of accuracy compared to storing the actual times. additionally, you need to go through an extra step of processing before you can do the histogram. if you have the eventTimes, getting the histogram is pretty easy: &amp;#x200B; interarrivalTimes = eventTimes(2:end) - eventTimes(1:end-1); hist(interarrivalTimes)
I just went ahead and bought the student version along with several packages I thought I would need or would just be fun to play around with.
Thanks for the feedback. Checking with timer, it is indeed the newtonraphson.m file that takes the longest. I've tried: * rasing Tol&gt;0.0001 to Tol&gt;0.01 --&gt; no improvement * changing line 56 to dPa = Psp\*0.01-P; --&gt; no improvement * changing line 19 to Psp = P\*0.01; --&gt; no improvement * changing line 69 to M = 0.01\*\[dP; dQ\]; Nothing worked. Can I try something else? BTW - I didn't get behind the following: My rateA is defined as value 100 or 60 respectively. And there are no rateB/rateC values. I still don't know what the "Tap" is and why he has much lower values than my example...
thanks, it worked quite fine now :-)
i used xlswrite anyways. needed a temporarily quick solution :-) thanks for the feedback! so starting 2019a I won't be able to use xlswrite anymore?
You can still use it. write matrix was only introduced in 2019a
Combine the first and part of the second things you attempted above. Change your conditional to something like: while Tol &gt; 0.01*Psp You can also check what the Jacobian is evaluating to and use a comparison to a value lower than that. Think about what the Newton method (and by extension, NR) is actually doing: you are using the slope of the line (the Jacobian) to move back and forth about some x value(s) to attempt to find a "zero" (or in your case, minimize the distance to zero). If the Jacobian is larger than your desired error, you'll continually swing around that same value over and over and over again and never land near enough because you'll overshoot it every time. Make sure you put all three of lines 56, 19, and 69 back to how you had them. None of those changes will help you here. As a next troubleshooting step, you can Pause the code in the Editor window when it's stuck, and "Step Out" to your own code (as you may be inside a MATLAB built-in function, which you'll see when you pause since it will open the MATLAB file in a new Editor tab). From there you can mouse over the various variables and see what values they hold. That should help guide you.
It's against the terms to use the student version if you're not a student. That means if you graduated, you need to buy MATLAB Home if you do not want to violate the terms. See the difference between the student and home licenses: 1) Student - *Note: Student software is for use by students on student-owned hardware to meet course requirements and perform academic research at degree-granting institutions only. It is not available for government, commercial, or other organizational use.* &amp;#x200B; 2) Home - *For personal use only. Not for government, academic, research, commercial, or other organizational use*
You can continue to buy addons after-the-fact as long as your subscription is active (1 or 2 years iirc). After that you need to buy a new Mathworks subscription. I think you are right about only getting the discount on addons when you first buy the student license as a bundle.
Unfortunately the script still doesn't run through.
I will try the next step you proposed, but that infinity loop is quite troubling\^\^
 I need to put a timeseries datasheet every 400 meters (x-axis), how can I do this? &amp;#x200B; axis([0 2000 0 30]) axis ij hold on ylabel('Depth') xlabel('Meters')
You're starting work for a lab? Why is the lab not the one supplying the matlab license? Ask your lab manager, boss, or department IT person who is responsible for your lab's matlab licenses before you lay out personal money for work software. If you're working for a university or biggish company, there's a chance that there may even be a network license server, meaning all you have to do is actually install matlab and point it there, and you'll be ready to go.
Here is the only video and image of what it looked like that I would like to recreate to some extent https://youtu.be/dThwnufroCo
I just tried syms s A = [1/s, 1/(s+1); s/(s^2+1) 1] ilaplace(A) and it worked like itâ€™s supposed to.
the easier method is using the following commands (use doc command) and setting callbacks uitabgroup, uitab, uipanel, uitable, uicontrol, â€¦
It's possible to use a ToWorkspace block and send this data to matlab workspace and then work there. Is it somewhat useful for your case?
I agree, this does seem possible.
But to I need to add all those hundreds of signals via this ToWorkspace Block? The number ob Segments might change during the project. In C we just iterated through the size of the array and it wasn't necessary to adapt the code, if the segment count changed.
Ok, this seams possible. But how do I add all those signals to the Read Block? The number of Segments might change. I dislike the idea of having all the hundreds of signals in this variable name. In C we just received the array from the Simulation Software and were able to iterate through the array.
Thanks.
So, from your simulation you get multiple values... Do you get them all at the same run of your simulation or do you run it multiple times? If it's ok multiple times (output from different runs), you can control it on the m file. Use the sim('name_of_run') command and deal with the variable from the ToWorkspace block there.
I don't know how MATLAB specifically implements it, but it's probably some version of [https://en.wikipedia.org/wiki/Computer\_algebra\_system](https://en.wikipedia.org/wiki/Computer_algebra_system)
I'm not sure if it is still true, but the symbolic engine used to be Maple (maplesoft). How that works under the hood, is mysterious. There is source for Python's symbolic math packages if you'd like to explore. [SymPy]( https://github.com/sympy/sympy )